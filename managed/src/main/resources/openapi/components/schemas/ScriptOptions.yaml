title: ScriptOptions
description: Configuration options for the script to be executed
x-yba-api-visibility: internal
type: object
properties:
  script_content:
    description: |
      The inline script content to execute on nodes.
      Either script_content or script_file must be provided, but not both.
    type: string
    example: |
      #!/bin/bash
      echo "Node hostname: $(hostname)"
      df -h
  script_file:
    description: |
      Path to a script file on the YugabyteDB Anywhere node to execute on database nodes.
      Either script_content or script_file must be provided, but not both.
    type: string
    example: /opt/yugabyte/scripts/diagnostics.sh
  params:
    description: Parameters to pass to the script as command-line arguments.
    type: array
    items:
      type: string
    example:
      - '--verbose'
      - '--output=/tmp/result.log'
  timeout_secs:
    description: |
      Timeout in seconds for the script execution on each node.
      If elevated privileges are needed, include sudo commands directly in your script.
    type: integer
    format: int64
    example: 300
    default: 60
    maximum: 3600
    minimum: 1
  linux_user:
    description: |
      Run the script as a particular Linux user.
      Defaults to yugabyte. When using Node Agent, the command is executed as this user.
      When using SSH fallback, this sets the SSH user.
    type: string
    example: yugabyte
    default: yugabyte
  max_script_file_size_bytes:
    description: |
      Maximum size in bytes for script file content to be captured in audit logs.
      Script files larger than this limit will be executed, but their content will not
      be recorded in the audit log. This only applies when using script_file.
    type: integer
    format: int64
    example: 1048576
    default: 1048576
    minimum: 0
