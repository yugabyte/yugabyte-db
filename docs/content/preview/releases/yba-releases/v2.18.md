---
title: What's new in the YugabyteDB Anywhere v2.18 STS release series
headerTitle: What's new in the YugabyteDB Anywhere v2.18 STS release series
linkTitle: v2.18 series (STS)
description: Enhancements, changes, and resolved issues in the YugabyteDB Anywhere v2.18 STS release series recommended for production deployments.
menu:
 preview_releases:
   identifier: yba-v2.18
   parent: yba-releases
   weight: 1080
rightNav:
 hideH4: true
type: docs
---

## Release announcements

* [Introducing YugabyteDB 2.18: Unlock Kubernetes and Simplify Operations](https://www.yugabyte.com/blog/release-218-announcement/)

## Release notes

{{< tip title="YugabyteDB Anywhere release notes have moved" >}}
The release notes for YugabyteDB Anywhere have moved here. The [YugabyteDB v2.18 release notes](../../ybdb-releases/v2.18/) (and all other releases) are still available in their original location.
{{< /tip >}}

{{< warning title="Upgrade to release 2.18.7.0 or later" >}}

To avoid a rare race condition that can be encountered in v2.18.5-2.18.6, upgrade to release v2.18.7.0 or later.

{{< /warning >}}

What follows are the release notes for all releases in the **YugabyteDB Anywhere** (YBA) v2.18 series. Content will be added as new notable features and changes are available in the patch releases of the YBA v2.18 series.

For an RSS feed of all release series to track the latest product updates, point your feed reader to the [RSS feed for releases](../index.xml).

## v2.18.9.0 - August 15, 2024 {#v2.18.9.0}

**Build:** `2.18.9.0-b17`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.9.0/yugabytedb-2.18.9.0-b17-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.9.0/yugabytedb-anywhere-2.18.9.0-b17-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.9.0/yba_installer_full-2.18.9.0-b17-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Improvements

* Replaces CentOS 7 repo URLs which are now invalid due to its EOL, ensuring continued CentOS 7 universe creation. PLAT-14546
* Enables explicit removal of pexlock after usage to avoid interference when provisioning on-prem nodes manually. PLAT-14161

### Bug fixes

* Allows node health checks to handle cases where the node name field is not mandatory for on-premises nodes. PLAT-11188
* Conceals DB user's password to prevent exposure in the application log during the upgrade procedure. PLAT-14286
* Incorporates a DDL atomicity check into the health check script, ensuring timely detection of DDL corruption issues. PLAT-14696
* Updates Pekko version to fix the TLSActor infinite loop issue resulting in high CPU usage. PLAT-14524
* Reverses the pekko version upgrade previously made to address the TLSActor infinite loop issue. PLAT-14524
* Repairs build failure in CentOS 7 pex/yugabundle builder Docker image. PLAT-14543
* Ensures crash prevention on the `Create Alert` page by hiding the `default destination` option if no default destination is previously set by the user. PLAT-10340
* Allows handling of large output in remote commands to prevent hanging. PLAT-14342
* Fixes reprovision task failure and prevents marking universe as Error when pre-checks fail. PLAT-14476,PLAT-14440
* Enables setting of Prometheus auth without activating HTTPS for better authorization management. PLAT-14478
* Updates task_uuid as a key label for proper in-memory updates, enhancing task analysis capabilities. PLAT-14017
* Allows the removal of a previously added Kube config file or pull secret file when editing a Kubernetes provider config on YBA, enhancing user flexibility. Also changes the wording on the edit form to indicate that an empty replacement equates to file removal. PLAT-10348

## v2.18.8.1 - July 18, 2024 {#v2.18.8.1}

**Build:** `2.18.8.1-b3`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.8.1/yugabytedb-2.18.8.1-b3-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.8.1/yugabytedb-anywhere-2.18.8.1-b3-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.8.1/yba_installer_full-2.18.8.1-b3-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Bug fixes

#### Other

* Repairs build failure in CentOS 7 pex/yugabundle builder Docker image. PLAT-14543

## v2.18.8.0 - June 21, 2024 {#v2.18.8.0}

**Build:** `2.18.8.0-b42`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.8.0/yugabytedb-2.18.8.0-b42-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.8.0/yugabytedb-anywhere-2.18.8.0-b42-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.8.0/yba_installer_full-2.18.8.0-b42-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Improvements

* Changes the clock skew alert threshold from 500ms to 250ms, enabling detection of clock skew issues before TServer starts crashing, giving users more reaction time. PLAT-13249
* Introduces an adjustable 1-minute delay to AutoFlags promotion before undertaking any other action.  PLAT-13139
* Allows setting up of YugabyteDB in AWS Singapore Government's GCC Plus environment by extending AZ name limit from 25 to 100 characters. PLAT-13212

### Bug fixes

* Modifies node metrics file creation to explicitly set permissions, ensuring accessibility despite custom system umasks. PLAT-13378
* Corrects the checksum mismatch in the V342 migration to ensure successful upgrades from 2.14 to later branches. PLAT-13977
* Prevents `Edit Universe` modal from wrongly displaying master placement as `Place Masters on the same nodes as T-Servers` for a dedicated universe, providing accurate universe creation details. PLAT-13445
* Skips the `CheckNodeSafeToDelete` subtask for delete read replica clusters ensuring quicker deletion process. PLAT-12242
* Upgrades go etcd and cyphar dependencies in yba-installer, enhancing security by fixing vulnerabilities.PLAT-12335
* Upgrades mina-core package to a secure version 2.2.3 and paramiko to a non-vulnerable version 3.4.0. PLAT-12336
* Eliminates the option to disable AWS time sync in the Create/Edit universe workflow for providers with pre-enabled settings. PLAT-13536
* Disables kamon status page module to tackle security concerns. PLAT-13563
* Allows manual backups on HA standby nodes without interfering with the node's later promotion to primary. PLAT-13683
* Upgrades python cryptography to 42.0.4 and setuptools to 65.5.1, enhancing security. PLAT-13836,PLAT-13835
* Displays error when a selected zone doesn't contain any available nodes during universe configuration. PLAT-12959
* Skips checks for `ListLiveTabletServers` API for YugabyteDB versions earlier than 2.8 to prevent chain upgrade failures. PLAT-13657

## v2.18.7.0 - April 1, 2024 {#v2.18.7.0}

**Build:** `2.18.7.0-b30`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.7.0/yugabytedb-2.18.7.0-b30-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.7.0/yugabytedb-anywhere-2.18.7.0-b30-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.7.0/yba_installer_full-2.18.7.0-b30-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Improvements

* Simplifies the generate script and rectifies failures in the testcomplexops-aws-arm case by updating Alma8 AMIs with new GPG key, beneficial for installing new packages on ARM. PLAT-12855

### Bug fixes

* Mitigates issues with universe creation failure and node page crashes by rectifying the update issue of the access key value when the provider value is manually changed. PLAT-11567
* Fixes custom PostgreSQL use, enabling successful YBA-installer upgrades by correctly assessing the `useExisting.enabled` value. PLAT-12469,PLAT-12501
* Allows for successful universe creation even with an existing nvme1 mount by checking device names during instance creation. PLAT-12215,PLAT-12531
* Resolves the issue of failed reinstallation attempts after successfully running the `clean` command without the `all` flag in the yba-installer, by always cleaning the conf directory during file copying. PLAT-12619,PLAT-12597
* Ensures correct setting of `installRoot` config values for a smooth replicated migration process by adding a validation check before starting the migration. The check prevents `installRoot` from equating `storage_path` and considers the `precheck type` while creating the config. PLAT-12784,PLAT-12785
* Allows admins to prevent privilege escalation by disabling the ability to manually create SuperAdmin users or change existing roles to SuperAdmin via PUT requests. PLAT-10470
* Upgrades netty-codec, fixing many vulnerabilities and enhancing security across older branches. Also backports play3.0 and overrides netty-codec 4.1.89 with an updated version. PLAT-11238
* Allows deletion of pexlock even when owned by a different user, preventing errors and ensuring a smoother operation. The lock file location is now alterable to avoid future issues. PLAT-12445
* Fixes an issue where the resize node operation was failing for AWS due to a typo in the update_disk method. The issue was preventing the creation of a universe with an existing nvme1 mount. PLAT-12645
* Enables idempotent `mv` command usage across file systems during replicated migration, addressing failure issue when root install directory exists on a different file system. Also resolves minor logging issues. PLAT-12836
* Preserves the node-agent folder during instance cleanup for on-premises nodes. PLAT-12896
* Enables successful pause/universe function even when disks are not mounted by UUID by correctly utilizing the host_info parameter. PLAT-12911
* Updates both `-classic` and `-core` Java packages in your home library to version 1.2.11 for more advanced capability. PLAT-11662
* Shifts to Play 3.0.x, leveraging Pekko to mitigate vulnerabilities in the latest Akka library. PLAT-11680
* Allows usage of user-provided `skipProvisioning` value instead of defaulting to `false` when editing the access key, retaining the manual provisioning settings in `edit provider`. PLAT-12393
* Corrects the migration of boolean and integer config values from replicated to YBA installer, ensuring they are written as their correct types, not strings. This fix passes the preflight validation checks for subsequent upgrades. PLAT-12407,PLAT-12406
* Fixes unintended behavior where YCQL table-by-table backup was incorrectly backing up all tables for each run. PLAT-12460
* Alters order of node-agent installation and node provisioning to ensure yugabyte user is set up for node agent in on-premises situations. PLAT-12533
* Automatically updates the pexvenv to sync with new PYTHON_EXECUTABLE after an OS or direct Python upgrade. PLAT-12618
* Disables SSH key expiry alert for existing customers, ensuring a smooth user experience. PLAT-12724
* Renames the create provider config label from "Kubernetes" to specific terms including "VMware Tanzu", "Red Hat OpenShift", and "Managed Kubernetes Service". PLAT-10888
* Updates yugabyted-ui packages /x/net and /x/crypto for enhanced security. Backports available upgrades to all stable versions. Also migrates to Play 3.0.x. PLAT-11660
* Redesigns the delete region modal to eliminate fields specific to AWS in GCP, reducing confusion when deleting regions across different cloud providers. PLAT-12446
* Enables use of HTTPS instead of HTTP to gather platform metrics when TLS is turned on, improving security in data collection. PLAT-12210
* Eases the handling of different architectures in GitHub image tag publishing automation by applying a count check for hyphens inside the tag. The current parsing issues in find_docker_tag.py are resolved, allowing for accurate extraction of build tags. PLAT-12219
* Enables appending extra tags after the build number in ybdb builds for enhanced parallel testing support and accurate representation in GET /releases API. PLAT-12386

## v2.18.6.0 - February 6, 2024 {#v2.18.6.0}

{{< warning title="Use 2.18.7.0 or later.">}}
{{< /warning >}}

### New features

* Exposes the `replicated-migrate` flag and adjusts its help text to highlight it as an Early Access feature, improving clarity for users while still in the EA phase. PLAT-11274, PLAT-11094

### Improvements

* Re-implements master operation completion checks using ListMasters or ListMasterRaftPeers, enhancing ChangeMasterConfig finish evaluations and refining local provider tests. PLAT-10162
* Modifies the follower lag check to use the node endpoint instead of Prometheus metrics, ensuring more accurate assessment even if Prometheus is down. Introduces a new runtime configuration, `follower_lag.max_threshold`, for customising lag allowance. This change notably enhances upgrade processes and mitigates false positive scenarios. PLAT-10286
* Suppresses partial data deletions and enhances predictability by disabling the callback when a master is removed, and instead, lets YBAdm to properly clean out the state on add master. PLAT-10401
* Enables the `master_join_existing_universe` flag for existing VM universes, replacing cluster configurations atomically for a seamless transition. PLAT-10511
* Eliminates NGINX from YBA helm charts in versions 2.14, 2.16, 2.18, and 2.20 while preserving it in 2.21 as it's still utilized by YBM. PLAT-10837
* Introduces universe name and zone labels to DB pods and other resources established by YBA, dramatically aiding the creation of a shared service across multiple AZs, and offering smoother integration with automation systems. PLAT-10988
* Enables adding `sharedVPCProject` ID via the YBA UI for GCP providers, replacing the older GCP project name field. Now, users can specify two projects at a time: `Shared VPC Project` for VPC shared environment and `GCE Project` for project where VM will be provisioned. PLAT-11065
* Allows smoother volume expansion by ignoring errors when enlarging PVC, continuing with STS recreation process, and finally throwing an exception if the actual volume isn't of desired size. PLAT-11454
* Expands version check compatibility across different settings of older Replicated versions and disables rollback during Replicated migration if it includes a YugabyteDB version change to ensure safety. PLAT-11630
* Refactors the lock and freeze pattern for universe tasks to ease use, incorporating changes such as consolidating force lock and normal update lock, validating lock status on task submission, and enabling forced task abortion with permitted force deletion. PLAT-11769
* Increases stability during replicated migration by setting the HA prometheus configuration directory explicitly and blocking migration from yba-ctl when both HTTP/HA are enabled. PLAT-11785
* Streamlines the on-prem setup workflow, eliminating the need to stop, remove, reinstall, and restart the node-agent when changing providers—instead, run the configure command, remove, and add back. Enhances error messages if a script fails to download and introduces a bind address for the node agent when using DNS for node IP. Conceals potentially confusing server commands and permits node-agent un-registration even with wiped-out data. Only manually provisioned on-prem providers will be fetched, improving clarity, and supports the use of non-Yugabyte users with provision_instance.py. PLAT-11889
* Introduces a runtime configuration `yb.node_ops.leader_blacklist.fail_on_timeout` that, when enabled, causes the StopNodeInUniverse operation to fail if leader blacklisting doesn't complete in the set timeout. PLAT-11892
* Updated YBC version to 1.0.0-b38. This picks up a bug fix in incremental backup in YBC which fixes an issue where tablet leader bootstrap leads to different SST files but with same name causing some files to not be backed up. PLAT-11963
* Introduces alerts for YSQL/YCQL webservers, enhancing YBA's health monitor to keep an eye on 9070, 9300, and 13000 ports. PLAT-12067
* Allows seamless transition of yba-installer installation server certificates (not db node certificates) from self-signed to CA-signed certificates by regenerating the file regardless of hostname changes during reconfiguration. PLAT-12099
* Allows users to disable the scraping of Kubernetes node metrics, that show CPU, memory, and disk utilization graphs for Kubernetes-based universes, with a new Prometheus flag. PLAT-9097

### Bug fixes

* Limits the `::log-bundle` command to capturing logs from the last day for long-running YBA instances, enhancing running time and reducing hang periods. PLAT-11220
* Regenerates server certificates automatically on hostname changes to maintain high availability, initiated by running `yba-ctl reconfigure`, enhancing HA workflow stability. PLAT-11525
* Displays Universe status as ERROR when `placementModificationTaskUuid` contains any value, ensuring accurate state representation even after operational changes. PLAT-11574
* Fixes the issue of Universe overrides not applying correctly and non-rolling gflags upgrade malfunctioning. This ensures correct retrieval of the Universe from the Database rather than in-memory cache. PLAT-10289
* Improves YBA-Installer metrics by consistently setting the scheme for all HTTPS, irrespective of the port number utilized, enhancing Prometheus scrape configuration accuracy. PLAT-11681
* Refines the provisioning process on RHEL8 boxes to ensure successful installation of necessary Linux packages by retaining HTTPS in mirror links. PLAT-11723
* Corrects disk usage graph display for multi-volume on-premise universes by rectifying the Prometheus expression that queries disk usage. PLAT-11813
* Allows new YB-TServers created after adding new AZs to have the YBC running, ensuring smooth AZ migrations by correcting the tserver specification during master partitioned rolling updates. PLAT-11919
* Allows correct editing of the RR cluster configuration, ensuring that all nodes remain in the node details set during any increase or decrease in node count, while maintaining appropriate data consistency across different locations. PLAT-11921
* Enables proper migration of some replicated string settings to yba-installer, enhancing user experience by ensuring correct replication of settings. PLAT-11985
* Rectifies the isYsqlAuthEnabled function in userIntent to correctly process specific gflags rather than relying on the now obsolete tserverGflags. PLAT-12066
* Allows login from either `api/v1/login` or `api/login` endpoints for HA standby instances PLAT-12154
* Corrects the alert expression for master under-replicated alert, ensuring its functionality after being migrated to a YAML file. PLAT-12331
* Introduces a new argument `useTserver` in `yb_backup.py` script to eliminate failures during V2 backup creation in S3 on Kubernetes and universes with dedicated master nodes. PLAT-11260
* Fixes incorrect java non proxy config schema. PLAT-11568

#### Security

* Updates Node Exporter from 1.6.1 to 1.7.0, addressing previous golang vulnerabilities and enhancing overall security. PLAT-11234
* Upgrades Java dependencies, namely okio, http3, amazon sdks, akka-actor_2.12-2.5.26, play_2.12:2.6.25, com.amazonaws_aws-java-sdk-s3:1.12.129, docker, and setuptools to reduce vulnerability risks and enhance security. PLAT-11227
* Upgrades the paramiko version to 3.4.0, addressing previous security vulnerabilities, enhancing protection for your database. PLAT-12337
* Upgrades Python Cryptography package to version 41.0.7 and Python Pycryptodome package to 3.20.0, enhancing security by addressing previous vulnerabilities. PLAT-12338

<!-- ### Other

* Introduces a public API endpoint to ascertain HA leadership status, facilitating cloud load balancers to route traffic efficiently, and rectifying backup time updates issue.
* Introduces SpecificGflags support in gflags audit to encompass read replica overridden gflags, including a new "readonly_cluster_gflags" field.
* Integrates sync validation for all tasks in ITask, allowing for common, short-running parameter checks before task submission.
* Stops and deletes the YBC process running on nodes in `AddOnClusterDelete`, `EditUniverse`, and `ReadOnlyClusterDelete` workflows and cleans up the YBC directories, enhancing the on-prem universe management.
* Enables a single thread to write a runtime key to a scope at a time, reducing race conditions and preventing duplicate key errors for better API performance.
* Introduces a new argument `useTserver` in the yb_backup.py script to support backup operations on Kubernetes and universes with dedicated master nodes, addressing V2 backups failure in S3.
* Allows specifying container level resources for `yb-cleanup` and `ybc` within a pod using overrides, delivering more control over resource management.
* Updates the s3cmd tool to the latest version 2.3.0, ensuring compatibility with AlmaLinux 8+ and other newer Linux distributions.
* Allows populating the proxy section without a max length string requirement in the Java non-proxy field, making future workarounds easier by skipping validation of the config.
* Corrects the issue with custom date picker in the create support bundle where start and end dates were getting swapped.
* Promotes a direct replacement of the shell process by the Python process, ensuring Python tasks cease once the parent task is aborted, preventing lingering Python processes.
* Upgrades multiple outdated Apache commons libraries and other software packages to eliminate known vulnerabilities, enhancing the security profile.
* Updates Akka version to 2.6.21, enhancing support for the `Sink.asPublisher(fanout =false)` to handle multiple subscribers.
* Synchronizes the YBA SA RBAC with the platform-global RBAC, removing certain extra permissions.
* Blocks non-GET API requests on HA followers to prevent accidental universe creation or modification, enhancing data consistency and stability. API access for necessary functions still maintained.
* Enhances ansible-playbook in PEX by intelligently creating Amazon Linux 2 PEX venv even with long shebang lines, mitigating universe creation issues and preventing early failures in AWS complexops itest.
* Corrects the issue of un-restored Prometheus data during replicated migration due to wrong directory placement.
* Maintains access to replicated's and self-signed certificate files post full migration for reference.
* Reduces the default application logging level from TRACE to DEBUG to enhance performance, prevent costly operations and ensure practical production use.
* Corrects the function name from `delete_postgres_backup` to `delete_db_backup` when restoring YBA backups.
* Corrects the handling of "zone 0" in AKS deployments, ensuring successful creation of multi-AZ clusters without deployment errors. -->

## v2.18.5.2 - January 17, 2024 {#v2.18.5.2}

{{< warning title="Use 2.18.7.0 or later.">}}
{{< /warning >}}

This is a YugabyteDB-only release, with no changes to YugabyteDB Anywhere.

## v2.18.5.1 - January 10, 2024 {#v2.18.5.1}

{{< warning title="Use 2.18.7.0 or later.">}}
{{< /warning >}}

This is a YugabyteDB-only release, with no changes to YugabyteDB Anywhere.

## v2.18.5.0 - December 21, 2023 {#v2.18.5.0}

{{< warning title="Use 2.18.7.0 or later.">}}
{{< /warning >}}

### Improvements

* Blocks creation of a basic xCluster configuration if any of the universes participate in a transactional xCluster configuration. PLAT-10193
* Updates Prometheus version to 2.47.1 from 2.46.0 to mitigate security vulnerabilities. PLAT-10838
* Rearranges the `replicated-migrate` help messages in yba-ctl for a more logical, workflow-based order rather than alphabetical. PLAT-10970
* Expands Python preflight check to validate Python3.8, Python3.9, etc. binaries, aligning with YBA's internal Python scripting requirements and enhancing installation success. PLAT-10975
* Allows users to configure multiline GFlag options at runtime through the User Interface. PLAT-11083
* Updates the Go compiler to version 1.21.3 in YBA node agent and YBA installer, ensuring protection against several critical vulnerabilities. PLAT-11191
* Eliminates the need for sudo access in the HA setup using YBA installer, thereby reducing some customer security concerns and obstacles to use. The upgrade allows yba-ctl to perform the necessary chown operation, hence ensuring effective backup/restore. PLAT-11314
* Allows setting incremental backup intervals to less than 15 minutes based on a runtime flag. PLAT-11346
* Resolves backup and restore issues in Kubernetes YBA by adjusting directory permissions, enabling non-root users to successfully execute backups. PLAT-11481,PLAT-11516
* Allows accessing the list of tables in a universe even when not all master nodes queryable (for example, even during universe software upgrades, flag changes, node stop/remove/start operations, and so on). PLAT-11527
* Reduces YSQL upgrade waiting time in multi-region environments by favoring active YB-TServers in the same region as the master leader, speeding up the process. PLAT-8975
* Enables custom HTTP headers, including HSTS, in API responses. This caters to the specific needs of enterprise customers enhancing their security and operational requirements. PLAT-11550,PLAT-9109
* Increases security by upgrading jackson-databind to version 2.15.3, addressing a known vulnerability, and updating ehcache from 2.10.6 to 3.10.8 to remove vulnerabilities. PLAT-9635
* Ensures YBA-installer works with any umask, addressing non-deterministic behavior and offering precise control over directory permissions. PLAT-9990
* Upgrades node exporter from version 1.6.1 built with a vulnerable version of golang to a safer 1.7.0, enhancing security. PLAT-11234
* Upgrades Akka version to 2.6.21, enhancing support for one subscriber via Sink.asPublisher(fanout =false). PLAT-11679

### Bug fixes

* Delays persisting universe user intent into the database until after completing GFlags upgrade and k8s overrides upgrade tasks, leading to more accurate handling of user intent, reducing the chances of errors during task failure retries, and more consistent behavior during universe operations. PLAT-10289
* Enhances log filtering script by adding quotes to prevent splitting search string into multiple words, improving syntax error handling. PLAT-10321
* Revises the yb_platform_backup.sh script to correct the `back_plat_version` assignment error, ensuring successful database restores and enhanced disaster recovery capabilities. PLAT-10579
* Prevents crashes on YBA's Nodes pages when a specified access key for a cluster can't be found. PLAT-10613
* Addresses the issue of false CPU usage alerts on new universe deployments by rectifying the CPU usage calculation to provide accurate usage percentages. PLAT-10614
* Introduces enhanced logging for scheduled backup operations, aiding in debugging schedule-related issues, and addressing instance where incremental backups sometimes run more than once. PLAT-10694
* Ensures critical node-agent cert update uses a serializable transaction with retry, effectively decreasing risk of interference and increasing future change safety. PLAT-10809
* Corrects error-handling in Universe Creation that was causing failures with read replica nodes on on-premises systems and ensuring a proper clean-up. PLAT-10823
* Fixes existing universes to ensure that the "memtable" metric is properly gathered/scraped/retrieved (via a DB migration script that updates swamper target files) PLAT-10873
* On CentOS 7, when YBA is migrated from being installed via Replicated to installed via YBA Installer, fixes potential faults (in YBDB Universe creation, upgrade, and security) that were caused by truncating of long lines. PLAT-10897
* Fixed Linux file ownership & permissions during universe node provisioning (specifically, of the bash_profile on some OSs), therefore ensuring downstream universe operations (for example, SSH login, Ansible script execution for node provisioning and other node operations) succeed. PLAT-10930
* Eliminates the failure in Access Key rotation when users opt to use their own private keys for SSH connections to the DB node, by properly generating the corresponding new public keys. PLAT-10935
* Backports all yba-installer modifications from the latest release to version 2.18.5, addressing bug fixes and achieving compatibility with the current version and its docs. PLAT-10985
* Allows spaces in LDAP fields such as OUs in binddns in the multi-line gflag editor, accepting previously rejected valid configurations. PLAT-11101
* Fixed issues during migration from Replicated-based YBA installations to YBA Installer-based installations in High Availability environments by adding backup support for provision_instance.py script and node agent certificates. PLAT-11123,PLAT-11124
* For YBA Installer, corrects the JVM argument from -Dhttp.nonProxyHost to -Dhttp.nonProxyHosts, ensuring accurate configuration of proxy and non-proxy information. PLAT-11142
* When migrating from Replicated-based YBA installations to YBA Installer-based YBA installations, eliminated data loss issue during migration via a custom root directory. PLAT-11173
* When migrating from Replicated-based YBA installations to YBA Installer-based YBA installations, mitigates issues on 2.18 by adjusting custom root directory, disabling version check when creating backup, and changing `delete_db_backup` command. PLAT-11172,PLAT-11173
* When migrating from Replicated-based YBA installations to YBA Installer-based YBA installations, prevents migration errors by introducing `disable_version_check` option to the backup script. PLAT-11221
* When creating a universe using an on-prem provider, allow > 20 characters for IP address or hostname. Also implemented a preflight check for max python version ensuring a smoother workflow. PLAT-11254
* Allows continuation of support bundle collection despite node command failures and thwarts indefinite Running state by terminating and deleting any running support bundle upon YBA restart. PLAT-11288
* Introduces updated Memtable metric names to resolve data surfacing issue and includes a migration script to prompt swamper target files re-generation. PLAT-11315
* During create universe, when installing YDBD software on Linux VMs, sets up the initial directory layout to be owned by 'yugabyte', preventing 'Permission Denied' errors during intermediate steps with certain SELinux settings. PLAT-11350
* Enables successful backups in Kubernetes installations by updating the yb_platform_backup script. The script now reads the version metadata JSON file properly from the backup tarball, preventing early exits and resultant restore failures. PLAT-11354
* Prevents user interface from crashing when user selects 'Custom' from metrics tab after selecting a timezone from User Profile, ensuring stable access to metrics. PLAT-11358
* Handles a crash (a null pointer exception) when adding a Read Replica in an On-Prem universe with a GFlag enabled in the Primary cluster to enable smoother Read Replica creation. PLAT-11417
* Eliminates potential issues when upgrading from version 2.17.1-b78 and beyond regarding adding read replicas (RR) and editing primary universes by correcting a migration script that incorrectly assigns 'SCRATCH' storage type for Kubernetes and On-premises clusters. PLAT-11452
* Updates the notification templates by converting space-separated labels like `affected_node_names` into comma-separated ones, aligning with your setup expectations. PLAT-11532
* Resolves a regression that hindered backup tasks from resuming and universe locks from releasing after a YBA platform restart. PLAT-11533
* When adding nodes to an on-prem provider, the preflight response processor has been enhanced to prevent failures PLAT-11641
* Fixes issues during certification rotation by introducing constraints to permit only non-rolling upgrades when node-to-node (n2n) certificates have expired. BEFORE TEXT: Introduces constraints to permit only non-rolling upgrades when node-to-node (n2n) certificates have expired, circumventing certificate rotation failures. PLAT-11434,PLAT-4493
* Fixed issues during a restore when Prometheus regex did not match. Enhanced the script to correctly copy over files to the Prometheus data directory during restore operations. PLAT-8895
* Enables the upgrade of the node provisioning script during repeated migrations, ensuring it stays updated with YBA upgrades. PLAT-9157

## v2.18.4.2 - November 8, 2023 {#v2.18.4.2}

**Build:** `2.18.4.2-b2`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.4.2/yugabytedb-2.18.4.2-b2-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.4.2/yugabytedb-anywhere-2.18.4.2-b2-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.4.2/yba_installer_full-2.18.4.2-b2-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Bug fixes

* [PLAT-9990] Allowing YBA-installer to work with arbitrary umask
* [PLAT-10794] use su instead of sudo -u to run commands as user
* [PLAT-11142] YBA Installer fix java non proxy hosts
* [PLAT-11216] Backup script failing on CentOS 7

## v2.18.4.1 - November 6, 2023 {#v2.18.4.1}

**Build:** `2.18.4.1-b3`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.4.1/yugabytedb-2.18.4.1-b3-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.4.1/yugabytedb-anywhere-2.18.4.1-b3-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.4.1/yba_installer_full-2.18.4.1-b3-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Bug fixes

* [PLAT-11075] Allowing exclusion of releases/prometheus in YBA Installer backups
* [PLAT-11102] Fixing replicated-migrate restore

## v2.18.4.0 - October 25, 2023 {#v2.18.4.0}

**Build:** `2.18.4.0-b52`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.4.0/yugabytedb-2.18.4.0-b52-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.4.0/yugabytedb-anywhere-2.18.4.0-b52-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.4.0/yba_installer_full-2.18.4.0-b52-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Improvements

* [PLAT-8585] Add a node task to repair node-agent for cloud providers for existing node-agent enabled universes only
* [PLAT-8895] YBA backup script improvements
* [PLAT-9943] Add KMS config UUID to universe details when transitive restore from EAR enabled backup.
* [PLAT-9947] [PLAT-7719] [PLAT-9707] Enhance platform logging based on runtime flag
* [PLAT-10047] Upgrade grpcio to 1.57.0
* [PLAT-10080] YBA-installer to work on python 3.10 and 3.11
* [PLAT-10217] Improving PEX activation time
* [PLAT-10367] Displaying the count of leaderless and underreplicated tablets in metrics UI
* [PLAT-10407] Adds `ap-south-2` region in YBA
* [PLAT-10627] [helm] Adding dnsconfig to `values.yaml` for yugaware.
* [PLAT-10691] Add option to provide service account name in DB helm charts

### Bug fixes

* [PLAT-3192] Allow basic auth + https for Prometheus in Replicated environment
* [PLAT-8190] Back to back disk resize will render the universe unusable
* [PLAT-8852] [YBM] Incorrect conf file for tserver
* [PLAT-9486] [yugabyte] Write to files & run sync in liveness probe
* [PLAT-9814] Do not garbage collect the customer task which is still being referred in the universe task or the last task for a provider
* [PLAT-10092] Slow Query | UI Breaks if sorted column is removed
* [PLAT-10254] Fix GCP provider host credential handling
* [PLAT-10330] Move logic from tables controller to UniverseTableHandler and Add guard rails for ysql tables before disabling ysql
* [PLAT-10370] Don't eat up exceptions in SetUniverseKeys sub-task
* [PLAT-10371] Change DB Queue Overflow alert label
* [PLAT-10415] Stop building PEX for python < 3.8
* [PLAT-10419] Pass schedule backup parallelism in GET schedule API response
* [PLAT-10422] Manually issuing reboot command during provision
* [PLAT-10431] Fix supportedReleases initial value
* [PLAT-10441] Alert configuration message is shown as successful even when API returns error
* [PLAT-10442] Fix health check email addresses validation to support multiple emails
* [PLAT-10451] Add units to Volume size and Provisioned throughput missed from the UI
* [PLAT-10465] Drop support for python 2 from the node agent pex
* [PLAT-10489] Pass show_help=false to DB scrape endpoint to avoid scraping help and type
* [PLAT-10502] Add guard rails for ysql tables while disabling ycql
* [PLAT-10503] Changing timezone is not applied on the UI
* [PLAT-10527] Re-provision DB nodes in rolling manner during software upgrade.
* [PLAT-10527] Reverting systemd reboot workaround
* [PLAT-10531] Better error handling for bash script as part of postgres upgrade
* [PLAT-10554] Fix NPE for backups with De-commissioned nodes
* [PLAT-10558] Pass timeout for node-agent connection check
* [PLAT-10560] Incorrect master key rotation when first backup/restore from EAR universe
* [PLAT-10576] Kubernetes: Adding code to remove stale PG socket lock files during start of pod
* [PLAT-10579] Fix the platform backup restore for docker based installations
* [PLAT-10620] Correct service file template with proxies
* [PLAT-10627] [helm] Added dnsConfig dnsPolicy for YugabyteDB
* [PLAT-10628] [PLAT-10542] Missing Node UUID causes certain tasks to fail in new YBA releases
* [PLAT-10629] Fix 296 migration
* [PLAT-10632] K8s NFS based backup/restore prechecks fix
* [PLAT-10637] [PLAT-10638] Fixes for AWS provider sg validation
* [PLAT-10677] [PLAT-10699] User cannot reset timezone to default
* [PLAT-10680] Metrics are showing no data values
* [PLAT-10860] Node agent installation is skipped
* [PLAT-10897] Handling ansible-playbook with a long shebang line

## v2.18.3.1 - October 19, 2023 {#v2.18.3.1}

**Build:** `2.18.3.1-b1`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.3.1/yugabytedb-2.18.3.1-b1-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.3.1/yugabytedb-anywhere-2.18.3.1-b1-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.3.1/yba_installer_full-2.18.3.1-b1-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Bug fixes

* [PLAT-10527] Reverting systemd reboot workaround
* [PLAT-10527] Re-provision DB nodes in rolling manner during software upgrade

## v2.18.3.0 - September 20, 2023 {#v2.18.3.0}

**Build:** `2.18.3.0-b75`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.3.0/yugabytedb-2.18.3.0-b75-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.3.0/yugabytedb-anywhere-2.18.3.0-b75-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.3.0/yba_installer_full-2.18.3.0-b75-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Highlights

* General Availability of [YBA Installer](../../../yugabyte-platform/install-yugabyte-platform/install-software/installer/). Available as a standalone download, use YBA Installer for new installations of YugabyteDB Anywhere. YBA Installer provides simplified installation and basic functionality for managing installations, including backup and restore of an installation, upgrading, uninstalling, and more.

  Note: For existing installations that use Replicated, continue to use Replicated to manage upgrades.

* Support for [AppRole authentication](https://developer.hashicorp.com/vault/docs/auth) when creating a Hashicorp Vault KMS configuration.

<!--
* Support for disabling the YSQL and YCQL APIs, and enabling the YCQL API after a universe is created. Previously, the APIs could only be specified when the universe is created. Note that you can't enable or re-enable YSQL on an active universe.
-->

* Support for using scripts to automate Linux OS patching and updating on universes deployed using an On-Premises provider.

* Use the YugabyteDB Anywhere trust store to manage custom and self-signed certificates for OIDC. Upload your custom certificate to the trust store and YugabyteDB Anywhere will use it to verify OIDC connections.

* Support (via special request to Support) for enabling and disabling the YCQL API, and disabling the YSQL API on an existing, running universe.

### New features

* [PLAT-7386] [PLAT-5621] [PLAT-10221] [PLAT-10224] [PLAT-10225] [UI] Implement UI for Server Cert Rotation
* [PLAT-8984] Add UI support to configure YSQL and YCQL APIs
* [PLAT-9315] Add capability to provision a new boot disk in start processes (in case boot disk is replaced)
* [PLAT-9329] [PLAT-9330] Add AppRole auth to Hashicorp vault
* [PLAT-9341] OIDC integration with YBA trust store
* [PLAT-9656] Add preference for choosing nodes for YBC backup/restore
* [PLAT-9713] Add support to configure ysql/ycql
* [PLAT-10094] Adds sslContext to nimbusds HTTPRequest client as part of OIDC <-> custom CA store integration

### Improvements

* [PLAT-1848] Allow custom longitude and latitude for on-prem regions
* [PLAT-7981] Include node-agent logs in support bundle if node-agent is enabled
* [PLAT-8076] [xCluster] Use GetReplicationStatus API instead of IsBootstrapRequired
* [PLAT-9314] Add follower lag check on start node
* [PLAT-9358] [PLAT-9868] [PLAT-9313] Update under-replicated tablets subtask to be cluster specific (only Primary cluster) and update for db changes
* [PLAT-9450] Exporting PEX_ROOT in venv
* [PLAT-9485] Make Prometheus links URL runtime configurable
* [PLAT-9514] Support custom mount points for disk usage alert.
* [PLAT-9717] Process hba_conf file content as part of flag
* [PLAT-9773] [PLAT-9533] [PLAT-9509] [OIDC] JWT token OIDC enhancements
* [PLAT-9818] Backport all OIDC and HBA_CONF implementation
* [PLAT-9869] Make V93 migration compatible with EDB
* [PLAT-9952] [xCluster] Use IsBootstrapRequired API for replication status for old universes
* [PLAT-9953] Set useSystemd during creating destroy server subtask
* [PLAT-10007] Change YBC temp directory
* [PLAT-10010] Add active universe task code metric
* [PLAT-10062] Make single AZ (multi-node) clusters the default placement in internal YBA test portals
* [PLAT-10071] Allow userGflag value overrides as part of Round1 TLS cert rotate
* [PLAT-10096] Pass the arguments to transfer client CAs during DB upgrade
* [PLAT-10097] Use node-agent token lifetime as the timeout for RPC calls such that it can be configured from the runtime configuration
* [PLAT-10104] Add checks related to B/R and PITR while configuring DB APIs
* [PLAT-10218] Add new GCP regions

### Bug fixes

* [PLAT-5220] Removing table keyspaces/names from logs
* [PLAT-7568] UX Start Node shows universe name if failed task is retried instead of node name
* [PLAT-8087] [PLAT-9564] [PLAT-9619] [PLAT-9770] Check for under-replicated tablets before each node take down during rolling upgrades
* [PLAT-8438] Timezone is not in 24 hour format
* [PLAT-9179] Fix the restore as part of yb_platform_backup script
* [PLAT-9336] [PLAT-9333] Incorrect number of masters for RF=5 and numNodes=6
* [PLAT-9607] Turn off master operation completion check as it's implemented with wrong RPC call
* [PLAT-9769] Improve YBA UI software upgrade logic and fix existing
* [PLAT-9894] [K8] Backups are not deleted automatically after deleting the universe
* [PLAT-9959] fix : Primary cluster link is not working in RR
* [PLAT-9977] Fix cryptography compatibility on yugabundle
* [PLAT-9986] Set updateSucceeded bit after finishing re-provision task
* [PLAT-10008] Deleting provider sets the provider state in Error
* [PLAT-10011] Moving between instance types in OnPrem env does not change volume size
* [PLAT-10018] Pre-Process flags as part of TLS certs configure operation as well
* [PLAT-10016] Pass masked k8s pull secret values when not editing pull secret
* [PLAT-10027] Azure object listing fix for pre-backup validation
* [PLAT-10029] fix: K8s universes are still created with specificGFlags, which is not yet supported in k8s
* [PLAT-10035] Issue while checking the existing flag values with adding new flag
* [PLAT-10059] Run systemctl only for start and stop commands
* [PLAT-10072] Fix limited perf recommendation columns size
* [PLAT-10072] Fix limited perf recommendation columns size
* [PLAT-10088] The node_exporter can not update the metrics because of the permission issue. version: 2.18
* [PLAT-10090] Keywords like JWT and LDAP disappear when they are typed
* [PLAT-10093] Do not apply metric specific filter overrides to other metrics
* [PLAT-10107] Specific GFlags per Process and per AZ are not inherited by RR even if inheritFromPrimary = true
* [PLAT-10109] Support Bundle Creation is failing on K8 universes
* [PLAT-10156] mask certContent in audit logs
* [PLAT-10180] Fix full backup schedule backlog
* [PLAT-10206] Restrict usage of old password as new password during password rotation for DB Apis
* [PLAT-10212] KMS configuration expiry is not refreshing
* [PLAT-10247] YBA Installer to support python 3.8 and up
* [PLAT-10252] Make app logs the last component to be downloaded
* [PLAT-10280] Fix postgres server check while enabling YSQL auth
* [PLAT-10291] [PLAT-7272] Fix: Disable Enable button while enableYSQL is disabled, flags reverted to NPE while validating flags
* [PLAT-10293] [OS Patching] New Node Re-provision failing
* [PLAT-10298] Block Update/Create KMS operation if permissions are insufficient
* [PLAT-10313] Fix NPE for missing nodeUuid for under-replicated tablets check
* [PLAT-10315] [PLAT-10328] [PLAT-10329] [PLAT-10334] Bug fixes and improvements
* [PLAT-10327] Fix backup deletion BackupGarbageCollector code modified due to conflicting commits
* [PLAT-10301] [PLAT-10303] [PLAT-10304] [PLAT-10310] Server Cert Rotation bug fixes and improvements
* [PLAT-10307] Increment YBC version
* [PLAT-10309] Enable enableConfigureDBApi feature flag
* [PLAT-10310] Enable feature flag for server cert rotation
* [PLAT-10326] Add runtime flag to configure ysql/ycql for UI
* [PLAT-10338] [UI] Fields do not reset after successful creation of AppRole based configuration
* [PLAT-10349] [PLAT-10278] Restrict users from disabling db APIs when xCluster configuration exists and fix YSQL password rotate
* [PLAT-10350] [UI] [Rotate Server Certs] Hide Server Certs tab in EIT for all certs other than self-signed
* [PLAT-10352] Revert [PLAT-7272] changes
* [PLAT-10377] Fix under-replicated tablets check for software upgrades
* [PLAT-10405] Avoid gulping exceptions as part of provider delete
* [PLAT-10424] Fetch universe list from on-prem node list component if not found in redux store

### Known issues

N/A

## v2.18.2.1 - August 16, 2023 {#v2.18.2.1}

**Build:** `2.18.2.1-b1`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.2.1/yugabytedb-2.18.2.1-b1-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.2.1/yugabytedb-anywhere-2.18.2.1-b1-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.2.1/yba_installer_full-2.18.2.1-b1-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Highlights

* Support for single-table restores of YCQL backups. When restoring from backups, you can specify a keyspace and select specific tables to restore, allowing more efficient backups, and flexible fine-grain restores.

* General availability of the [YugabyteDB Anywhere Terraform provider](https://registry.terraform.io/providers/yugabyte/yba/latest). Use Terraform to automate provisioning, lifecycle, and other workflows.

* YugabyteDB Anywhere now proxies all communication to universe nodes for database processes via a node agent. As a result, YugabyteDB Anywhere no longer requires SSH and SCP to communicate with nodes, apart from during initial provisioning or node debugging.

* Support for GCP [instance templates](https://cloud.google.com/compute/docs/instance-templates). When deploying universes on GCP using a provider configured with a template, instances are created based on template parameters. This allows customizations such as GCP encrypted memory and disk, TPM, solo tenancy, and more.

* Support for customizing the organization name of the self-signed certificates generated by YugabyteDB Anywhere. Customize the organization name using the `yb.tlsCertificate.organizationName` [runtime configuration](../../../yugabyte-platform/administer-yugabyte-platform/manage-runtime-config/) flag.

* Support for latency histogram and P99 latency metrics. View Percentile metrics and a latency histogram for your YSQL queries from the [Slow Queries dashboard](../../../yugabyte-platform/alerts-monitoring/slow-queries-dashboard/).

* Use the new YugabyteDB Anywhere trust store to manage custom and self-signed certificates for integrations that require TLS, including LDAP, Hashicorp Vault, S3, and more. YBA uses the trust store to verify the authenticity of TLS endpoints that it connects to.

* Tech preview of support for deploying YugabyteDB Anywhere on SUSE Linux Enterprise Server (SLES) 15 SP4.

### New features

* [PLAT-3556] [PLAT-9460] LDAP integration with custom CA trust store
* [PLAT-6000] [PLAT-7166] [PLAT-7167] [PLAT-7170] [PLAT-9345] Custom CA store in YBA - CRUD
* [PLAT-7363] [PLAT-8554] Adds Image Bundle Support in YBA
* [PLAT-7875] Add histogram of latencies to slow queries
* [PLAT-7876] [PLAT-9456] Add query latency graph to side info panel for slow queries
* [PLAT-8122] Enable node-agent phase 2 for all new providers by default for non YBM
* [PLAT-8704] Add data-testid to on-prem 'add zone' button
* [PLAT-8814] [UI] Selective table restore from YCQL backup
* [PLAT-9034] Support custom organization in for self-signed certificates
* [PLAT-9140] Support more filters for UI and include universe and provider names with UUIDs in the node agent page API
* [PLAT-9215] [PLAT-9216] [PLAT-9217] [PLAT-9394] Implementation of Node Agent Phase 1 and Phase 2
* [PLAT-9219] [PLAT-6720] Add support for editing GCP instance templates and expose the field on UI
* [PLAT-9311] Indicate xCluster replication type on xCluster configuration card and details page
* [PLAT-9409] Added resources to initContainers
* [PLAT-9500] [yugabyte] Added YB controller port (#170) (#172)
* [PLAT-9547] Pass imageBundle in provider edit payloads
* [PLAT-9606] Mechanism to retrieve OIDC token when OIDC is enabled and setup
* [PLAT-9658] Add allTables true for full backup types
* [PLAT-9720] Copy certificate from runtime configuration to YBA trust store
* [PLAT-9808] Add table by table backup support in New Restore Modal
* [PLAT-9832] Add optional tag to instance template field

### Improvements

* [PLAT-7281] All ws clients to start using YBA custom CA trust-store
* [PLAT-7837] [PLAT-8353] Adds AZ name/code validation for on-prem provider, Change the usage for skipKeyPairValidate flag to accessKey property
* [PLAT-7956] Added default true runtime flag for YBC to "listen on all interfaces", that is, bind to 0.0.0.0
* [PLAT-8037] Add ability to scrape nodes from external K8s clusters
* [PLAT-8037] Changes for scraping external Kubernetes clusters
* [PLAT-8232] Handle new RPC queue type in metrics dashboard
* [PLAT-8706] Make download release files synchronous to add release task
* [PLAT-8781] Update logic check for on-prem node reboots
* [PLAT-8995] Add affected nodes info to alerts as label + alert message, where needed + allow adding it to custom notification templates
* [PLAT-9144] Add UI validation for duplicate region on legacy provider form
* [PLAT-9200] Backup deletion improvements
* [PLAT-9213] [PLAT-9237] Edit Provider Improvements
* [PLAT-9231] Better debug logs for LDAP Group Mapping
* [PLAT-9263] Optimise slow queries
* [PLAT-9268] UI - Default LDAP Role radio button and ConnectOnly dropdowns
* [PLAT-9269] ConnectOnly Role and Default LDAP role
* [PLAT-9305] Make YBC work with secondary + primary private IP settings
* [PLAT-9324] Add retry for check memory test during software upgrade
* [PLAT-9326] Snapshot Cleanup cleans In-Progress YBC backup's snapshot due to race condition
* [PLAT-9350] Clean checksum files for backup and checksum/checksum-downloaded files for restore
* [PLAT-9353] Optimize find command in yb_backup.py
* [PLAT-9366] [PLAT-7274] Use task framework to do all edit provider work
* [PLAT-9385] Propagate --cluster_uuid flag to all masters/tservers from YBA during master/tserver startup
* [PLAT-9389] [UI] Custom CA store UI changes
* [PLAT-9400] Add xCluster role to YBA UI
* [PLAT-9402] [PITR] [UI] Make PITR task parameters in milliseconds granularity
* [PLAT-9408] Manage tags and skip_tags with Ansible script better
* [PLAT-9410] AWS KMS should use KeyManager to create service instance
* [PLAT-9433] Disable rolling upgrade for TLS configuration
* [PLAT-9477] Improvements to Performance Advisor UI
* [PLAT-9513] Make timeout for YSQL and slow queries runtime configuration
* [PLAT-9534] Remove thirdparty-deps references from `values.yaml` as this isn't used
* [PLAT-9558] Update Image bundles in case AMI is modified via region
* [PLAT-9609] [LDAP] Handle migration of LDAP Service Account configuration during upgrades
* [PLAT-9615] Add changes for ybc upgrade for db versions having multiple packages
* [PLAT-9640] Updating cryptography package
* [PLAT-9641] Updating the version of akka-actor
* [PLAT-9642] Remove the dependency for net.minidev package
* [PLAT-9643] Update guava version
* [PLAT-9659] [PLAT-5902] Enhancements to validation around HBA Conf LDAP attributes
* [PLAT-9691] [PLAT-7168] Custom hostname verification for hosts like s3.amazonaws.com
* [PLAT-9787] Changed raw -> command in ansible install-s3cmd.yml playbook
* [PLAT-9788] Increase COMMAND_EXECUTION_TIMEOUT_SEC for node agent
* [PLAT-9819] Must turn off LDAP enforce cert verification on upgrades if configured
* [PLAT-9820] Add resources and limit to test pod created by helm for Yugaware chart
* [PLAT-9839] Remove non-null check for "namespace_name" field of success marker file
* [PLAT-9903] Update on-prem instance management text for node agent
* [PLAT-9975] Enable enableNewRestoreModal feature flag by default for selective restore
* [PLAT-10014] YBC version upgrade

### Bug fixes

* [PLAT-4913] Hashicorp connection to use trust-store CAs as well
* [PLAT-7168] S3 client integration with CA-store to validate server certs
* [PLAT-7591] Clean azcopy files after backup
* [PLAT-8455] Eagerly seed active universe key in upgrade tasks
* [PLAT-8502] [PLAT-9310] [PLAT-9506] Fetch region metadata from backend
* [PLAT-8689] Add UI option for skipping keypair validation when configuring AWS provider
* [PLAT-8762] Add sync replication UI
* [PLAT-8782] Do not display reboot node option for on-prem universes with manually provisioned nodes or provider
* [PLAT-8826] Fix next scheduled incremental backup task time
* [PLAT-8928] Workaround for systemd user ulimits
* [PLAT-9103] KMS name is missing on backup details tab
* [PLAT-9140] Fix for Support more filters for UI and include universe and provider names with UUIDs in the node agent page API
* [PLAT-9143] Fix read replica removal in case hosted zone configuration is used
* [PLAT-9180] [Platform] [Azure] Add new tags is not working on azure universe
* [PLAT-9223] reconfigure failed to load state
* [PLAT-9255] [PLAT-9374] Azcopy/Node Exporter vulnerabilities
* [PLAT-9301] [UI] Once custom CA trust-store is available in HA, Remove 'Manage Peer Certificates' button if CA store feature is enabled.
* [PLAT-9319] fix : Restrict Separate flags for Read Replica for k8s
* [PLAT-9322] [PLAT-9323]UI Support for ConnectOnly User
* [PLAT-9338] Remove EpollChannelOption.TCP_KEEPIDLE setting from yb-client, which was added by mistake
* [PLAT-9341] Populate RPC broadcast address maps in backups regardless of checksum
* [PLAT-9363] [UI] PITR should allow seconds while performing restore
* [PLAT-9372] Node agent upgrade failure in the 2nd and subsequent attempt
* [PLAT-9390] Proper combination of role to LDAP group mapping with earlier LDAP role management behaviour
* [PLAT-9391] Allow connectonly user to get their own customer and feature file for connectonly user
* [PLAT-9395] Up-version sbt to 1.8.3 to get rid of incremental compile issue workaround
* [PLAT-9403] [PITR] Snapshot restore task should wait until the restore is finished
* [PLAT-9404] [PITR] Use DB ids instead of DB names to create PITR configs
* [PLAT-9432] (Fix 1) File upload via node agent gRPC endpoint is slow over network with high latency
* [PLAT-9434] Disable rolling upgrade option to toggle TLS in the API
* [PLAT-9447] Specify container name in node_client_utils
* [PLAT-9480] [Platform] [UI] Show error message with hyperlink to "CA certificates" page when YBA cannot talk to external servers
* [PLAT-9480] Show error about CA certificates upload on LDAP TLS connect error
* [PLAT-9501] Return 401 on invalid credentials and ConnectOnly features json
* [PLAT-9506] Fix k8s region metadata query key
* [PLAT-9520] WaitForConnection subtask should use yugabyte user for node-agent connection
* [PLAT-9523] Add constraint on filePath to be unique
* [PLAT-9524] [PLAT-9536] Fix YBDB verison check for latency histogram and return 'rolname' field in slow queries response
* [PLAT-9525] [PLAT-9526] [UI] [SSO] [Configure OIDC Provider Metadata] Bug fixes and improvements
* [PLAT-9528] Add runtime flag "use_server_broadcast_address_for_yb_backup"
* [PLAT-9548] [xCluster] Add a sleep time before restore subtask during xCluster setup
* [PLAT-9562] Fix metrics collection after universe resume
* [PLAT-9583] [UI] Latest incremental backup is not sent in case of 'Restore Entire Backup'
* [PLAT-9602] EAR state should be set to previous/valid state in case of failure
* [PLAT-9605] Fix K8 custom resources implementation on UI
* [PLAT-9609] [PLAT-9709] Fix migration package name and path
* [PLAT-9617] Kubernetes Provider Creation fix for multi-region setup
* [PLAT-9620] EditUniverse retries after failures can cause unpredictable behavior
* [PLAT-9628] Make isTransactionalConfig a controlled checkbox
* [PLAT-9636] Update protobuf to fix cves
* [PLAT-9649] [xCluster] Fix sync xCluster on remove table from yb-admin
* [PLAT-9650] [2.19.1.0-b286] After authentication, UI redirects user back to login page again
* [PLAT-9663] Fix standby Prometheus configuration to point to the remove YBA instance
* [PLAT-9666] Provide cert node filename for K8s YBC
* [PLAT-9670] Expose region name for k8s & on-prem provider form
* [PLAT-9699] Airgap universe creation is failing due to Node agent
* [PLAT-9709] [PLAT-3556] Enforce cert verification with secure LDAP with backward compatibility
* [PLAT-9722] [UI] Modify file upload message on the CA trust store
* [PLAT-9733] [Platform] Incremental Backup is not allowed with selective restored tabled in same keyspace
* [PLAT-9733] Don't fail scheduled full/incremental backups if one/few tables are deleted from the selected table list
* [PLAT-9739] [New Restore Modal Fixes] Changing Keyspace after table selection takes all keyspace backup
* [PLAT-9761] [PLAT-6180] provider value is not rendered properly, Show YB DB version in Universe tile and universe list
* [PLAT-9781] Universe API returns wrong EAR disabled state
* [PLAT-9796] [Platform] Display err msg and link to CA cert store when LDAP connection fails due to CA cert Error.
* [PLAT-9817] On-prem instances added using node-agent CLI has zone name appear as UUID on the UI
* [PLAT-9822] [UI] Admin page fails to load on 2.18 branch
* [PLAT-9877] Wait for node-agent to come up after the automatic reboot on retry of node tasks
* [PLAT-9890] Exclude rootfs from the disk usage graphs and alerts
* [PLAT-9893] On disabling EAR, the kmsConfigUUID is not set
* [PLAT-9904] Node agent token is exposed in the log on error
* [PLAT-9906] Master data folders are not cleaned up when it is added back in shell mode
* [PLAT-9910] [SLES] SLES On-prem universe creation fails on pre-flight checks
* [PLAT-9911] Fix size in YBC success marker
* [PLAT-9929] Supporting x.y.z+a semver in Helm chart versioning
* [PLAT-9933] [PLAT-9930] YBA upgrade is failing with AddRuntimeCertsToCAStore" failed! Changes successfully rolled back
* [PLAT-9941] KMS configuration is not selected by default during restore
* [PLAT-9958] [UI] Edit Universe failing after deleting read replica
* [Platform] Newer table UUID is passed during Incremental backup
* [PLAT-9957] Non-restart flag upgrade task doesn't actually change flags in memory

### Known issues

* [PLAT-9733] Incremental Backup is not allowed with selective restored tables in the same keyspace. If one or more tables are deleted from the list of tables in a backup schedule, the backups will fail.

## v2.18.1.0 - June 27, 2023 {#v2.18.1.0}

**Build:** `2.18.1.0-b84`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.1.0/yugabytedb-2.18.1.0-b84-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.1.0/yugabytedb-anywhere-2.18.1.0-b84-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.1.0/yba_installer_full-2.18.1.0-b84-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Highlights

* Improvements to [xCluster replication](../../../yugabyte-platform/manage-deployments/xcluster-replication/), including:
  * Support for transactional atomicity (see [Transactional xCluster deployment](../../../deploy/multi-dc/async-replication/async-replication-transactional/))
  * Automatic transfer of the source universe certificate when new nodes are added to the target universe
  * Ability to delete and pause replication when the source universe goes down
  * Ability to set up replication even if matching tables do not exist on the target universe
  * Improved performance and reliability when gathering replication stream statuses
  * Disallowing replication between two YugabyteDB versions that are incompatible
  * New alerts for when a YSQL table is added to a database in replication for the source but not the target universe
  * Faster bootstrapping

* Improvements to [read replicas](../../../yugabyte-platform/create-deployments/read-replicas/), including:
  * Ability to edit the number of replicas in a universe's read-replica cluster
  * Ability to override g-flags to read replica clusters. (By default, read replicas are assigned the same g-flags as the primary cluster.)
* Enhanced [LDAP support](../../../yugabyte-platform/administer-yugabyte-platform/ldap-authentication/). Account administrators can now map YugabyteDB Anywhere roles to Active Directory groups, and members of these groups will inherit role permissions automatically.
* Deploy multi-region stretched universes in Kubernetes. In particular, when universes span two or more Kubernetes clusters and use Multi-cluster Services (MCS), address challenges with cross-k8s-cluster network addressing.
* Perform single-table restores in YCQL (as long as the keyspace-level backup was made using the table-by-table backup option) in combination with incremental backups. Previously these features did not work together.

### New features

* [PLAT-6762] [PLAT-7249] Map YBA roles to LDAP groups
* [PLAT-9049] [PLAT-9147] [PLAT-9175] [UI] Map LDAP Groups to YBA roles Fixes and improvements
* [PLAT-7092] [PLAT-8816] Add UI support for separate flags for read replicas
* [PLAT-9177] [PLAT-9178] [LDAP] [UI] Add a separate field for base DN when using group search filter

### Improvements

* [PLAT-4247] Modify preflight subtask on platform to use the node agent
* [PLAT-6778] Allow deleting replication when no tables in the replication exist in the source universe
* [PLAT-6905] Add leader_lease_duration_ms to most used flags list
* [PLAT-7252] Decoupling base dn from service account configuration on YBA LDAP
* [PLAT-7284] Added Snapshot view for migration V231
* [PLAT-7425] [SSO] Ability to supply provider metadata when discovery URL is not accessible
* [PLAT-7554] [UI] Add authentication configuration fields for WebHook channel
* [PLAT-7607] Support YCQL table by table backup for V2 APIs
* [PLAT-8009] Show information that API Token will be temporarily in YBA UI
* [PLAT-8018] Update txn xCluster implementation to DB changes for 2.18
* [PLAT-8045] Add extra text to indicate peer cert requirement for HTTPS HA setup
* [PLAT-8105] Return colocated tables information in list tables API
* [PLAT-8119] Use YBC to take backup and restore for xCluster tasks
* [PLAT-8131] Add a client side check for YB software version on the xCluster txn atomicity option
* [PLAT-8319] [UI] Support for table by table backup
* [PLAT-8486] Batch the need_bootstrap requests
* [PLAT-8510] Add a warning for rotating k8s TLS certs on universes with xCluster replication
* [PLAT-8601] [PLAT-8850] [xCluster] Allow setting up replication for non-existing DBs on the target universe
* [PLAT-8627] Determine node-agent ansible offloadability based on the node-agent installation
* [PLAT-8633] [PLAT-8634]: Add mem tracker metrics to DocDB section and at Table level as well
* [PLAT-8681] Incorporate increasing read replica RF in the YBA UI
* [PLAT-8690] Migrate runYsqlUpgrade subtask to use RPCs instead of yb-admin
* [PLAT-8725] Add supported region and zone options to the new provider UI
* [PLAT-8728] Explicit upgrade for node agent version before YBA -> node agent grpc call
* [PLAT-8729] Add read-only view support for region configuration modal
* [PLAT-8731] Scrape node-agent metrics for alert generation
* [PLAT-8774] [PLAT-8937] [UI] [SSO] [Airgapped] Changes to supply OIDC provider metadata
* [PLAT-8799] Make node agent list and get API available in swagger and enhance the response for UI
* [PLAT-8804] Add extra volume support for postgres container
* [PLAT-8841] Track number of region which have zones configured during bootstrapping for legacy on-prem provider form
* [PLAT-8842] Return null if last schedule task does not exists due to expiration while fetching latest successful schedule task
* [PLAT-8880] [PLAT-8770] Make node-agent work on custom ports + configurable token lifetime
* [PLAT-8930] Add node-agent paginated list API with filter for a list of IPs
* [PLAT-8948] Change runtime configuration for boolean fields from dropdown to toggle
* [PLAT-8950] Update bootstrapParams.table logic for create xCluster configuration
* [PLAT-9019] [PLAT-9210] Add --username and --password flags to Run Sample Apps dialog, Enable feature flag for Add UI support for separate gflags for RR

### Bug fixes

* [PLAT-7289] Fix the sliding of incremental backup schedule tasks on each run
* [PLAT-7392] [xCluster] Add alert when new tables are added to YSQL databases in producer xCluster configuration
* [PLAT-7407] Remove expiry date field from encryption in transit modal
* [PLAT-7570] [UI]OIDC enable/disable is not saved until we refresh the UI
* [PLAT-7852] Collect all AWS provider errors in a single iteration
* [PLAT-8236] Fix universe cost calculation for universe create/edit scenario
* [PLAT-8254] Support Bundle not created for large number of files
* [PLAT-8269] Fix backup expiry time
* [PLAT-8377] [Platform] Can't see platform logs on the yugabundle portal
* [PLAT-8447] Fixed the PGSQL Data path for YBA OCP-certified chart
* [PLAT-8456] Expose metrics endpoint in node-agent for Prometheus to scrape
* [PLAT-8461] Filter by streamId when fetching per-table replication lag
* [PLAT-8517] Do not disable provider fields when form is validating
* [PLAT-8544] Merge affinity rules correctly
* [PLAT-8575] Escape $ in YSQL password for k8s universe
* [PLAT-8598] Removed yq and used YAML package in ocp.py
* [PLAT-8691] [YBC] Adding a decommissioned node fails on fault injection - pinging YBC would fail
* [PLAT-8734] CVE Fix: Fixing CVEs for 2.18.1
* [PLAT-8735] k8s_ybc_parent.py script does not kill child process as observed in OpenShift environment
* [PLAT-8736] Backup creation stuck at In-progress due to inconsistent task state
* [PLAT-8744] Fix Hot Shard recommendation info + threshold names
* [PLAT-8761] Cosmetic fixes in the help text for proxy fields
* [PLAT-8761] Typo in Java proxy property- nonProxyHosts
* [PLAT-8766] Add check for existing repl configuration to enable txn atomicity checkbox
* [PLAT-8773] Fix regression where pathStyleAccess is not respected by backend
* [PLAT-8779] Backup list response sends wrong "allTables" param value
* [PLAT-8787] Delete the remote access key on AWS region deletion
* [PLAT-8788] Change label for empty lag metrics from 'Unreachable' to 'Not Reported'
* [PLAT-8829] [UI] Scheduled backups are not displayed in UI
* [PLAT-8833] Upgrade pip only during venv build time
* [PLAT-8851] Hide loading spinner when query is disabled
* [PLAT-8885] Use StringUtils.isBlank instead of null check for taskId in RestoreBackupYbc
* [PLAT-8888] Fix rejected connections recommendation
* [PLAT-8891] Add few more dry runs during AWS provider validators
* [PLAT-8892] Allow passing multiple SGs
* [PLAT-8893] Add success message for delete/edit provider
* [PLAT-8920] Add Missing regions in AWS regions list
* [PLAT-8920] Adds the missing AWS regions in the UI
* [PLAT-8922] [PLAT-8923] Fix recommendation content being same in header and body and change deep link of learn more tutorials to YBA rather than YBM
* [PLAT-8929] Add timeout of 20 seconds for imdsv2 requests
* [PLAT-8929] Retrieve AWS host information using imdsv2
* [PLAT-8964] Restore Entire backup on table-by-table backup; backup only first table in the list
* [PLAT-8966] [PLAT-9170] On-prem manual instance provisioning script to include node-agent installation and setup
* [PLAT-8987] Add Encrypt permission check in AWS create KMS flow
* [PLAT-8988] Fix PA runs in some K8S environment (OCP)
* [PLAT-8994] k8s Universe creation failed with auth enabled if TLS with only client to node
* [PLAT-9005] Update note text and parallel thread default
* [PLAT-9016] MinIO - Server side encryption specified but KMS is not configured
* [PLAT-9028] Allow restore of old universes with xxhash in case universe is YBC enabled
* [PLAT-9037] Validate SecurityGroupIngress only when creating a new VPC in AWS provider
* [PLAT-9040] Backup Prometheus snapshot data when exclude_prometheus is not specified
* [PLAT-9044] [xCluster] Return true on need_boostrap API when a table does not exist on the target universe
* [PLAT-9098] Disable KMS API should not allow updating kmsConfigUUID
* [PLAT-9116] Handle colocated parent table name when constructing table identifier for xCluster
* [PLAT-9120] Decouple istio and servicePerPod (#167)
* [PLAT-9130] yba-installer correctly creates cert directory
* [PLAT-9136] API to return proper object during Task failure
* [PLAT-9139] properly close KeyManagementServiceClient on errors
* [PLAT-9150] Login fails if a LDAP user doesn't have group mapping
* [PLAT-9151] Fix non-rolling flags upgrade check
* [PLAT-9152] [PLAT-9024] Increasing RF in RR cluster is considered as Full move
* [PLAT-9153] [PLAT-9119] For Universe created using AWS provider gp2 is always used for the root volume even if gp3 is selected
* [PLAT-9159] Properly clean up on-prem node on universe removal/node release
* [PLAT-9182] S3 getBucketRegion for YBC backup/restore does not respect cert disabling
* [PLAT-9183] Fix alter load balancer when restore fails on xCluster setup fails
* [PLAT-9194] Fix broken HA- Prometheus target is not a fully qualified URL
* [PLAT-9205] [xCluster] Remove enable_pg_savepoints=false constraint for txn xCluster
* [PLAT-9224] [UI] Fix pod connect command for MCS universes
* [PLAT-9228] [PLAT-8801] Check boot disk size in GCP
* [PLAT-9230] Role for a user is not updated if there was no mapping previously
* [PLAT-9232] [PLAT-8849] Upgrade flag API fails at "No changes in flags (modify specificGflags in cluster)"
* [PLAT-9247] Handle network request failures for xCluster flow
* [PLAT-9252] Move YCQL table by table backup behind runtime flag
* [PLAT-9266] [UI] Put YCQL table by table behind runtime flag
* [PLAT-9282] Set context for ".ssh" directory when SELinux is enabled
* [PLAT-9297] Remove "or Users" from Role LDAP group mapping
* Fix migration for Recreate_swamper_targets.sql

### Known issues

N/A

## v2.18.0.1 - May 30, 2023 {#v2.18.0.1}

**Build:** `2.18.0.1-b4`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.0.1/yugabytedb-2.18.0.1-b4-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.0.1/yugabytedb-anywhere-2.18.0.1-b4-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.0.1/yba_installer_full-2.18.0.1-b4-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### Improvements

* [PLAT-8725] Add supported region and zone options to the new provider UI
* [PLAT-8729] Add read-only view support for region configuration modal

### Bug fixes

* [PLAT-8517] Do not disable provider fields when form is validating
* [PLAT-8851] Hide loading spinner when query is disabled

### Known issues

N/A

## v2.18.0.0 - May 16, 2023 {#2.18.0.0}

**Build:** `2.18.0.0-b65`

**Third-party licenses:** [YugabyteDB](https://downloads.yugabyte.com/releases/2.18.0.0/yugabytedb-2.18.0.0-b65-third-party-licenses.html), [YugabyteDB Anywhere](https://downloads.yugabyte.com/releases/2.18.0.0/yugabytedb-anywhere-2.18.0.0-b65-third-party-licenses.html)

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.18.0.0/yba_installer_full-2.18.0.0-b65-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

For instructions on installing YugabyteDB Anywhere, refer to [Install YugabyteDB Anywhere](../../../yugabyte-platform/install-yugabyte-platform/).

### New features

* [PLAT-4370] Enable non-root security context by default for Platform helm chart
* [PLAT-5368] [UI] Implement Custom Notification Email Template
* [PLAT-6348] Restoring yugabundle backup to yba-installer
* [PLAT-6843] support bring your own postgres backup
* [PLAT-6894] [PLAT-8081] Handle creating a server.pem in YBA installer during upgrade, Remove dependency to convert PEM to JKS in YBA installer
* [PLAT-6939] Make snapshot wait times configurable
* [PLAT-6960] Add a refresh KMS API to verify KMS validity
* [PLAT-7121] HA implementation for YBA-installer
* [PLAT-7284] [PLAT-8753] Added Snapshot view for migration V231
* [PLAT-7467] Create a universe with spot instance on GCP
* [PLAT-7468] Create universe with spot instance on Azure
* [PLAT-7474] Enabled spot instance UI for GCP and Azure
* [PLAT-7476] [xCluster] Implement the backend to support transactional replication
* [PLAT-7487] Use postgres 14.6 for YBA installer
* [PLAT-7504] Support http proxy in YBA installer
* [PLAT-7554] [UI] Add authentication configuration fields for WebHook channel
* [PLAT-7638] [PLAT-7873] [PLAT-7905] Add UI support for transactional atomicity
* [PLAT-7684] [PLAT-7635] [PLAT-7683] Add support for editing unused AZU, GCP and AWS providers
* [PLAT-7685] [PLAT-7694] [PLAT-8248] Add support for editing unused Kubernetes providers
* [PLAT-7686] Add support for editing unused OnPrem providers
* [PLAT-7688] Add support for provider status on YBA UI
* [PLAT-7694] Use regions from host k8s configuration
* [PLAT-7803] Add TServer and master uptime
* [PLAT-7824] Turn on new provider UI feature flag by default
* [PLAT-7827] Add all core dumps to the support bundle
* [PLAT-7844] [PLAT-7816] New provider page UX and testing improvements
* [PLAT-7886] [New Restore UI] Modify placeholder texts on the search bar
* [PLAT-7915] API for notification preview
* [PLAT-7943] Add Beta tag for Dedicated masters node feature
* [PLAT-7958] [Custom alert] Implement UI design as per Figma
* [PLAT-7988] Add a import_snapshot_selective command to yb-admin
* [PLAT-7998] [xCluster] Recreate PITR configurations during txn xCluster bootstrap process
* [PLAT-7999] Respect BackupCategory value in CreateBackup V2 API
* [PLAT-8005] [PLAT-8108] Allow region/az's add/update for k8s provider
* [PLAT-8008] Enable New Restore UI from 2.17.3
* [PLAT-8096] Expose all the tag filters for devs to override values at different scope levels
* [PLAT-8123] Install YBC software on on-prem manual provisioned Systemd universes
* [PLAT-8128] Install YBC for on-prem manually provisioned cron based universe during software upgrade software upgrade
* [PLAT-8171] Add a separate getter for retruning deprecated ybImage
* [PLAT-8177] [UI] Add webhook feature for Custom alert notification template
* [PLAT-8200] Disable radio buttons when provider is in use
* [PLAT-8213] Fetch platformVersion from metadata file
* [PLAT-8237] Enabling YBC on read replica of k8s
* [PLAT-8243] Enable verbose logs by default on YBC
* [PLAT-8296] Put txn atomicity checkbox behind a runtime configuration feature flag
* [PLAT-8316] Add placeholder text and validation for zone code
* [PLAT-8343] Run field validation when setting region in YBA provider form UI
* [PLAT-8344] Add Provider Name Check Validation for k8s Provider
* [PLAT-8354] Enable the runtime configuration to true for dedicated master
* [PLAT-8404] [MKR] Enable MKR feature flag
* [PLAT-8415] [PLAT-8249] Allow access key edit as part of provider edit
* [PLAT-8415] Skip Access Key edit for k8s providers
* [PLAT-8429] Add pagination to provider list and region list
* [PLAT-8453] Add loading spinners for on-prem and k8s forms
* [PLAT-8473] [PLAT-7349]Add GUI support for S3 backup proxy settings
* [PLAT-8478] [PLAT-8491] Sort recommendation by table name and change label for last scan date
* [PLAT-8487] Allow any 2XX response in WebHook alert channel
* [PLAT-8496] Use provider configuration from props to get region/access key info
* [PLAT-8504] Enable PA scan for 'postgres' DB + disable scans from the Follower YBA instance
* [PLAT-8537] Turn on Performance Advisor runtime configuration to true by default
* [PLAT-8542] Support access key edit on the UI
* [PLAT-8543] [2.18] [UI] [YBC] Use throttle values( min/max/default/current ) from backend to populate throttle parameters GUI
* [PLAT-8546] YBC version upgrade to 1.0.0-b26
* [PLAT-8550] Enable per-file java linter + migrate to latest sbt-java-formatter
* [PLAT-8559] Sync certs to DB as part of upload cert flow
* [PLAT-8647] [PLAT-7687] Track provider state while creating/editing provider which should indicate if the provider is usable
* [PLAT-8648] [PLAT-7074] Add Region active/deleted state and AZ active/deleted State
* [PLAT-8652] Add customer in the condition of query to fetch universe definition fields while listing tasks
* [PLAT-8654] [PLAT-8646] [Provider] Set READY state when user creates on-Prem provider using old API as a workaround
* [PLAT-8692] [Platform] [UI] Enable custom template editing for alert channels by default
* [PLAT] Add gauge for version mismatch events
* [yba-installer] Set min memory requirement to 8 GB matching docs

### Improvements

* [PLAT-3977] Slow queries should group by query id
* [PLAT-4370] Enable non-root security context by default for Platform helm chart
* [PLAT-4709] [xCluster] Update the sync API to accept source universe UUID and replication group name
* [PLAT-6598] Remove provider level input for custom AMI
* [PLAT-6725] Don't allow users to reconfigure certain settings
* [PLAT-7159] Migrate from ehcache to caffeine and upgrade to sbt play plugin 2.7
* [PLAT-7269] PLATFORM: Added a retry for ModifyMasterClusterConfig on configuration version mismatch
* [PLAT-7540] Make default_memory_limit_to_ram_ratio flag not hidden
* [PLAT-7552] Logging of secret credentials in application.log for provider with custom ssh_key
* [PLAT-7567] correctly scrape platform metrics for https
* [PLAT-7615] turn on lameduck by default
* [PLAT-7695] Create user with -U to ensure group is created
* [PLAT-7746] Disable xCluster configuration creation with colocated databases from YBA UI
* [PLAT-7792] Disable play enhancement for subsequent Play 2.8 + Play Ebean 2.x migration
* [PLAT-7793] Up-version to Play 2.8, play-ebean 6.2.0, flyway-play 7.37.0 and sbt 1.7.2
* [PLAT-7842] [PLAT-7845] Update required k8s provider fields
* [PLAT-7863] [PLAT-7959] Add validations in the code for YBC packages, WaitForYbcServer task should complete ping status faster
* [PLAT-7938] Modify the check software version task
* [PLAT-7938] update ybclient version
* [PLAT-7939] [Platform] [Backup] Take out the Beta tag for Incremental backups in 2.18
* [PLAT-7987] Older Task Details displays the current task in execution
* [PLAT-8007] Set ysql_hba_conf_csv with default "local all yugabyte trust" when YSQL auth enabled
* [PLAT-8016] Avoid universeMetric for SSH key expiry for k8s based universes
* [PLAT-8017] Update npm build script
* [PLAT-8022] Stop auto flags promotion on xCluster universes during software upgrade
* [PLAT-8026] Pass ansible variables set in the local process env to the remote process when offloading is on
* [PLAT-8035] Top-K Replace Nodes with Pods for K8s universes
* [PLAT-8036] [OCP] updated the registry to use Quay UBI for OCP-certified charts
* [PLAT-8038] Change default instance type and volume size for local dev purpose
* [PLAT-8039] Use waitFor in AbstractTaskBase instead of Thread.sleep to make the wait abort aware
* [PLAT-8048] Avoid GCP cred validation as part of service account creation
* [PLAT-8052] [UI] Encryption at Rest Dropdown should show details about which KMS Provider it belongs to similar to Provider dropdown
* [PLAT-8068] Allow editing of provider name
* [PLAT-8080] YBA installer re-specify license at install
* [PLAT-8096] Expose all the tag filters for devs to override values at different scope levels
* [PLAT-8103] Use common error handler in xCluster and provider pages
* [PLAT-8116] MKR | Rotation tasks logs should also have KMS configuration name
* [PLAT-8132] Change Task name to be more informative for EAR Rotate
* [PLAT-8136] Add a runtime flags to make the minimum incr backup schedule frequency configurable
* [PLAT-8164] Make postgres logs regex pattern a runtime configuration
* [PLAT-8179] Redact azure client secrets in audit log
* [PLAT-8196] Persist skipProvisioning value if specified for on-prem nodes
* [PLAT-8223] [PLAT-8372] Ensure volume size is based on provider configuration and search values persists between editing runtime configuration values
* [PLAT-8238] Return default value for runtime keys
* [PLAT-8246] Improve Incremental backup resource consumption
* [PLAT-8260] Make changes in node-agent to run any procedural task to support preflight check and future task
* [PLAT-8296] Set yb.xcluster.transactional.enabled as an INTERNAL runtime configuration
* [PLAT-8317] Compare the entire cloudInfo as part of edit instead of env vars
* [PLAT-8335] Stop YBC process during deletion of Universe for on-prem universes
* [PLAT-8336] Bump up the YBC version on Platform
* [PLAT-8363] Put alert rule strings in double quotes
* [PLAT-8367] Added securityContext=false in the `openshift.values.yaml`
* [PLAT-8373] Remove pre-populate zone kubeConfig logic
* [PLAT-8378] Remove YB_BACKUP_SCRIPT condition from YSQL database overwrite check
* [PLAT-8383] Update latest YugabyteDB logo in YBA UI
* [PLAT-8417] Do not return true from updateKubeConfig method when trying to set pull secret for k8s provider
* [PLAT-8419] Use bulk fetch instead of SQL query for every row of task info in commissioner class
* [PLAT-8459] Remove semi-colon under backup list
* [PLAT-8468] Bump up YBC version to 1.0.0-b25
* [PLAT-8518] Update the Redux store when creating or deleting providers
* [PLAT-8523] Set kubeConfig as "" in case no configuration provided at any level
* [PLAT-8535] [PLAT-7494] [PLAT-7493] [PLAT-8003] Backport AutoFlags <> xCluster changes
* [PLAT-8545] Redact token and clean up all unused certs for node-agent
* [PLAT-8576] Change cluster retrieval for a node during Install and upgrade YBC tasks
* [PLAT-8614] Update provider field labels and data-testids
* [PLAT-8629] Omit empty fields from provider payload
* [PLAT-8629] Relax requirement for AMI ID when adding regions to existing provider
* [PLAT-8644] Merge Access Key Content as part of provider edit
* [PLAT-8670] Turn on AWS provider validation
* [PLAT] explicitly setting useSystemd as true while creating new universe cluster via API

### Bug fixes

* [PLAT-5259] GitHub workflow script to update the version for yugabyte/yugaware is broken
* [PLAT-5268] [yugabyte] Fix YCQL for Istio MCS enabled clusters
* [PLAT-6348] Fixing yb_platform_backup.sh
* [PLAT-6737] [xCluster] Add retry logic to IsBootstrapRequired and BootstrapProducer RPCs
* [PLAT-7253] UI allows On-Prem universe to be created when the number of nodes is greater than nodes configured in on-prem provider
* [PLAT-7587] Upgrading azcopy in 2.18 for CVE fixes
* [PLAT-7729] Cherry-picking CVE fixes for 7729
* [PLAT-7734] Disable delete provider action when provider is in use
* [PLAT-7765] [PLAT-8234] [PLAT-8235] Universe creation fails with YBC if a zone is in a different K8s cluster. Fix master gflag upgrade. Restart YBC in the case of a crash.
* [PLAT-7765] Health checks failing for YBC on k8s multi-cluster deployments. Modify the dns1 format
* [PLAT-7785] [Master] [UI] Hostbase and Bucket fields are misplaced in Multi Region Backup configuration
* [PLAT-7796] Reboot master node is failing for dedicated masters mode
* [PLAT-7871] Fixed duplicate metrics from kube-state-metrics
* [PLAT-7947] Node agent installation fails after a platform upgrade from 2.16 to 2.17.3
* [PLAT-7987] Older Task Details displays the current task in execution
* [PLAT-7994] Instance types available for a particular region are not being filtered
* [PLAT-7995] Fix : No default provider selected while creating a universe
* [PLAT-7996] Master / TServer proxy fails with NullPointerException when an on-prem node is in
* [PLAT-8006] Fix issue in fetching platform logs on clicking any of the task from the tasks tab
* [PLAT-8006] Fix issue in fetching platform logs on clicking any of the task from the tasks tab
* [PLAT-8010] Fixing the UI to allow overriding Kubeconfig when using Fetch Suggested Config Option
* [PLAT-8013] [YCQL] health check fail for OpenShift environment
* [PLAT-8013] Fix YCQL auth enabled health check
* [PLAT-8013] YCQL health check failures for Auth enabled cases
* [PLAT-8015] Fix all string format issues in platform code
* [PLAT-8024] Prometheus service not enabled via systemd
* [PLAT-8025] Fix several API slowness
* [PLAT-8027] Forward ported the fix done for YBM
* [PLAT-8029] Fixing release permissions on YBA-installer upgrades
* [PLAT-8040] Fixing yba-installer startup sync
* [PLAT-8041] YBA installer upgrade not finding installed version
* [PLAT-8044] Fix an issue where YBC container is not brought up during universe shrink operation
* [PLAT-8055] Fixing the placement per AZ in a multi-az k8s cluster
* [PLAT-8063] [PLAT-8066] Helm upgrade failed with server.pem
* [PLAT-8077] [xCluster] Failing IsBootstrapRequired API should not show restart is required
* [PLAT-8093] Fix orphaned NIC deletion for Azure universes
* [PLAT-8098] [PLAT-8099] [PLAT-8117] [PLAT-8100] [MKR] Bug Fixes and Improvements
* [PLAT-8109] Fix user for running remote commands on node-agent
* [PLAT-8121] [PLAT-8391] [PLAT-8432] Fix : UI allows entering invalid characters in universe name, New UI should not ignore nodesResizeAvailable, User should be able to add more AZs than RF in UI when enableGeoPartitioning is turned on
* [PLAT-8154] YBA re-install now works if postgres data left
* [PLAT-8168] Certificates from Hashicorp Vault should only have one level wildcard
* [PLAT-8189] Fix YBA UI availability zone configuration reset logic
* [PLAT-8193] k8s Provider edit UTs fix
* [PLAT-8196] [PLAT-8197] Add missing form values to mutate on prem provider payload
* [PLAT-8206] Cgroups not set when systemd is disabled
* [PLAT-8210] Periodic SetUniverseKey sets the wrong universe key ID after MKR
* [PLAT-8215] Custom node exporter port is not applied correctly
* [PLAT-8216] [PLAT-7821] [PLAT-8241] Fix : Edit Universe doesn't show override deployment ports, flags UI issue, improper message showed in full move modal
* [PLAT-8220] [Incremental backups] UI not sending correct request to backend for YCQL table level incremental backups
* [PLAT-8224] Fix HTML rendering in email body
* [PLAT-8273] [PLAT-8278] Handle undefined provider values and fix edit Azure provider form reset
* [PLAT-8277] Fix /regions API slowness
* [PLAT-8282] [PLAT-8211] [PITR] Issue with recovery using date option
* [PLAT-8301] Fix Incorrect total storage shown in Universe Overview page
* [PLAT-8305] Fix use cases where manual Re-scan doesn't give latest recommendations
* [PLAT-8306] Universe locked at parent task is trying to lock it again at the subtask
* [PLAT-8320] Fixed the regex to handle the duplicate CPU metrics
* [PLAT-8321] Fixed multiple performance advisor issues, found during testing
* [PLAT-8346] Resize Node fails on a restart/retry due to masked flags
* [PLAT-8349] Edit volume size is causing pods to be deleted in multi-az
* [PLAT-8359] [2.17.3.0-b145] Current state of a stopped node is "Unreachable"
* [PLAT-8369] Software upgrade on a YBC universe causing controller container to get removed
* [PLAT-8377] Can't see platform logs on the yugabundle portal
* [PLAT-8382] Fix retry API to return the submitted task UUID
* [PLAT-8384] Fix YCQL health check
* [PLAT-8387] Scheduled backup configurations are not displayed in UI
* [PLAT-8394] Bug in "YCQL subset of tables" backup
* [PLAT-8400] [Custom Email] Variables are not clickable on the default template
* [PLAT-8407] [PLAT-8408] Fix to ensure node name is seen on the graph and resolved recommendation does not get reset when filtering by DB
* [PLAT-8430] Fixed CPU metrics for YBA charts for OCP
* [PLAT-8439] [Custom Templates] Preview doesn't show actual message in case of most of the alert policies
* [PLAT-8439] Fix test alert generation in case no universes defined
* [PLAT-8439] Properly validate WebHook template for valid JSON
* [PLAT-8449] [Helm Overrides] [UI] Show error when validation API fails
* [PLAT-8450] Fix performance advisor scan during backup
* [PLAT-8451] Show failure reason on UI if performance advisor run has failed
* [PLAT-8489] Fix saving default JSON template
* [PLAT-8492] Fix the merge for configurations properties at AZ level
* [PLAT-8498] Incorrect throttle parameters values for K8s pods/dedicated nodes
* [PLAT-8511] A node on add must get removed from master's blacklist
* [PLAT-8514] Helm install with user provided key and certificate
* [PLAT-8516] Backups not getting cleared after retention is complete
* [PLAT-8530] Use newer PA version with k8s related fixes
* [PLAT-8532] Fix : Universe name validation missing in the new UI for GCP and Kubernetes
* [PLAT-8539] TServer is down for more than a minute in rolling restart for flags update
* [PLAT-8549] [PLAT-8592] [MKR] Bug fixes and improvements
* [PLAT-8594] Fix : Missing Add tags button on edit universe page
* [PLAT-8595] Fix PLAT-8595 snakeyaml does not allow untrusted tags
* [PLAT-8623] Run CloudSetup as part of edit in case bootstrap failed on create
* [PLAT-8624] Metrics not populated after yugabundle restore
* [PLAT-8636] [K8s] Schedule Backups are failing with UniverseDefinitionTaskParams cannot be cast to InstallYbcSoftwareOnK8s
* [PLAT-8638] Handle DB names retrieval failure properly
* [PLAT-8649] Ensure rejected recommendations is shown as part of Performance recommendations
* [PLAT-8655] Avoid acquiring provider lock on az/region edit as part of provider edit
* [PLAT-8683] Send kubeConfig name or filepath in provider payload
* [PLAT-8773] Fix regression where pathStyleAccess is not respected by backend
* [PLAT-8833] Upgrade pip only during venv build time
* [PLAT] Fix the issue [TIMEOUT] issue with Slf4jLogger

### Known issues

N/A
