---
title: What's new in the YugabyteDB Anywhere v2.21 release series
headerTitle: What's new in the YugabyteDB Anywhere v2.21 release series
linkTitle: v2.21 series
description: Enhancements, changes, and resolved issues in the YugaybteDB Anywhere v2.21 preview release series.
aliases:
  - /preview/releases/yba-release-notes/preview-release/
menu:
  preview_releases:
    identifier: yba-v2.21
    parent: yba-releases
    weight: 1050
type: docs
---

What follows are the release notes for all releases in the YugabyteDB Anywhere (YBA) v2.21 series. Content will be added as new notable features and changes are available in the patch releases of the v2.21 series.

For an RSS feed of all release series, point your feed reader to the [RSS feed for releases](../index.xml).

## v2.21.1.0 - June 13, 2024 {#v2.21.1.0}

**Build:** `2.21.1.0-b271`

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.21.1.0/yba_installer_full-2.21.1.0-b271-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

### Change log

<details>
  <summary>View the detailed changelog</summary>

#### Improvements

* Adds AWS IMDSv2 support for easier creation of AWS providers and smooth VM creation on AWS console. PLAT-12482
* Allows consistent clean/reinstall of yba-installer by always clearing the conf directory, fixing hang-ups. PLAT-12597
* Updates the generate script for easier usage, removes Azure ARM support, and reruns it with 8.9 as the desired version to address an issue with GPG key on older Almalinux 8 images. PLAT-12855
* Allows customers to receive alerts on newer versions by updating the default OS's map in CloudImageBundleSetup. PLAT-12855
* Allows YBA node agent installation as a non-root user in a custom tmp directory to reduce the list of commands in the sudo whitelist. PLAT-12635
* Removes caching setting for Azure ultra disks to prevent "create universe" process errors. PLAT-12681
* Corrects the spelling error in the `Show Overridden Configs` checkbox in runtime configs. PLAT-8389
* Adds Preflight check and selective table restore features in an updated "Advanced restore" modal. PLAT-9909
* Adds `db_version` label to `universe_active_task_code` for automated stats calculation related to DB version by the QA team. PLAT-12479
* Allows saving of feature flags to local storage for better user convenience. PLAT-12629
* Allows the configure API to trigger a full move operation when reducing the volume size via the UI or API. PLAT-12690
* Allows changing volume count and decreasing volume size of cloud provider universes through UI & API. PLAT-12690
* Enables editing the default region to trigger new masters selection in the edit universe. PLAT-12630
* Eliminates multiple printing of the same table Id in the leaderless tablet failure scenario. PLAT-12844
* Enables selection of US Central in the regions dropdown for on-prem providers. PLAT-13050
* Allows automatic whitespace trimming for YBInput component by default, improving input data accuracy. It can be disabled by setting `trimWhitespace=false`. PLAT-9662

#### Bug fixes

* Avoids the failure of universe creation due to existing nvme1 mounts in AWS by ensuring unique device names and proper disk mounts. PLAT-12215
* Allows successful `yba-installer` upgrades with customized postgres by validating the `useExisting` option correctly. PLAT-12469
* Disables leaderlessTablet check on RF1 clusters to prevent regression issues during node-to-node server certificates rotation. PLAT-12527
* Ensures "Welcome to YB" modal dialog doesn't reappear after users choose not to display it again. PLAT-12711
* Ensures correct setting of `installRoot` config values for a smooth replicated migration process by adding a validation check before starting the migration. The check prevents `installRoot` from equating `storage_path` and considers the `precheck type` while creating the config. PLAT-12784,PLAT-12785
* Ensures scheduled backups edit function accurately populates retention information, eliminating frustration. PLAT-9970
* Fixes issues with node remove/release action failure in test cases, enhancing system stability. PLAT-12948
* Allows admins to prevent privilege escalation by disabling the ability to manually create SuperAdmin users or change existing roles to SuperAdmin via PUT requests. PLAT-10470
* Changes `ebs` to `disk` in the disk failure detection script and service name. PLAT-12425
* Corrects the `switch to correct branch` step in the update-version GitHub action for 2.20.* releases by treating `yb_release_train` argument as a string, which prevents branch misalignment. PLAT-12440
* Allows deletion of pexlock even when owned by a different user, preventing errors and ensuring a smoother operation. The lock file location is now alterable to avoid future issues. PLAT-12445
* Reverts a change that was causing permission issues preventing the creation of Provider in YBA Installer Portal. PLAT-12445
* Removes permission issues encountered when Yugabyte user tries to delete `pexlock` created by root. PLAT-12445
* Enables editing the universe and adding new nodes to a cluster without re-assigning node prefix validation errors. PLAT-12565
* Fixes an issue where the resize node operation was failing for AWS due to a typo in the update_disk method. The issue was preventing the creation of a universe with an existing nvme1 mount. PLAT-12645
* Moves the new DR metric tab to the same array as other metric tabs, making all sub metrics tabs accessible on the UI. PLAT-12771
* Prevents the tables page from going blank by addressing undefined source universe property in metrics panel. PLAT-12779
* Allows disabling the environment proxy selector to circumvent IPv6 parsing issue. This can be done using an environment variable or configuration parameter. PLAT-12810
* Disables environment proxy selector for IPv6-only scenarios due to improper IPv6 address handling, offering a short-term fix. PLAT-12810
* Enables idempotent `mv` command usage across file systems during replicated migration, addressing failure issue when root install directory exists on a different file system. Also resolves minor logging issues. PLAT-12836
* Sets the minimum required TLS version for node-agent server to 1.2, addressing flagged vulnerabilities related to accepting lower TLS versions. PLAT-12883
* Preserves the node-agent folder during instance cleanup for on-premises nodes. PLAT-12896
* Enables successful pause/universe function even when disks are not mounted by UUID by correctly utilizing the host_info parameter. PLAT-12911
* Hides the Linux version field for Kubernetes and on-premises providers and disables the "Upgrade Linux Version" modal. PLAT-12990
* Allows YBC to be enabled/disabled during universe creation and software upgrade using a global runtime configuration flag, providing more control to users. PLAT-10435
* Allows play server shutdown to wait until the task executor timeout before closing the DB connection, preventing inconsistent metadata post-restart. PLAT-11961
* Increases default OOM score of Prometheus service for enhanced stability in low-memory situations, the value can be customized by the user. PLAT-12019
* Upgrades the outdated and vulnerable versions of the dependencies in Node Agent, kubectl, helm, yba-ctl, -core, and paramiko to secure versions. PLAT-12333
* Allows viewing of universe configuration for Kubernetes-based universes during creation progress. PLAT-12391
* Allows usage of user-provided `skipProvisioning` value instead of defaulting to `false` when editing the access key, retaining the manual provisioning settings in `edit provider`. PLAT-12393
* Fixes incorrect types of boolean and integer config values during migration, ensuring successful preflight ValidateInstallerConfig check after upgrade. PLAT-12406
* Fixes inaccurate display of K8 provider's core count, memory, and volume information on the Create Universe page. PLAT-12438,PLAT-12247
* Fails the restore instantly if storage config and backup location are not compatible. PLAT-12444
* Fixes unintended behavior where YCQL table-by-table backup was incorrectly backing up all tables for each run. PLAT-12460
* Rectifies the React router path for Multi-region backup configuration. PLAT-12461
* Upgrades YBC client and server version to 2.1.0.0-b2 adding timeouts for RPC call and async tasks, and controlling coprocess runtime. PLAT-12483
* Prevents attempts to retrieve the non-existent ImageBundle in onprem/k8s universe environments, fixing broken universe metrics. PLAT-12509
* Prevents task status from bouncing between stages after initiating schedule backup, improving UI stability. PLAT-12512
* Switching instance type from K8 to any cloud provider now shows empty instance values under specific conditions. PLAT-12518
* Alters order of node-agent installation and node provisioning to ensure yugabyte user is set up for node agent in on-premises situations. PLAT-12533
* Allows correction for instance type display during the edit of a universe in future updates. PLAT-12540
* Allows correction for instance type display during the edit of a universe in future updates. PLAT-12540
* Allows correction for instance type display during the edit of a universe in future updates. PLAT-12540
* Corrects the erroneous node configuration shown on the Edit Universe page in master builds. PLAT-12540
* Enables editing of GCP provider configurations for upgrades from version 2.16 to 2.18 and above. PLAT-12553
* Allows addition of `thirdparty-` into the YBA tarball for simplified dockerfile changes. PLAT-12564
* Reverts an update, addressing a disruption in the `sbt runPlatform` flow and simplifying dockerfile changes by moving `thirdparty-` to the yugabytedb/managed repo. PLAT-12564
* Automatically updates the pexvenv to sync with new PYTHON_EXECUTABLE after an OS or direct Python upgrade. PLAT-12618
* Corrects pex venv removal and refreshes it if OS python version changes. PLAT-12618
* Allows toggling of IMDSv2 through a new checkbox added in the AWS provider creation page. PLAT-12708
* Disables SSH key expiry alert for existing customers, ensuring a smooth user experience. PLAT-12724
* Allows ssh_user to pass for creation call when the provider lacks a default user configuration. PLAT-12753
* Prevents xcluster creation failure due to unsupported autoflags in universes, enabling smoother creation and renaming of xcluster replications even with older db versions. PLAT-12788
* Corrects an issue where `sshPort` value could be overridden to null, ensuring compatibility with Custom-AMI during universe creation. PLAT-12946
* Corrects an issue where `sshPort` value could be overridden to null, ensuring compatibility with Custom-AMI during universe creation. PLAT-12946
* Allows specifying the correct sshPort in the nodeUniverseManager to prevent universe creation failure in all custom AMI cases, ensuring smooth operation. PLAT-12946
* Updates on-premises manual provisioning documents to recommend Node Exporter version 1.7.0. PLAT-12968
* Allows disabling of the wait for clock sync check on a universe scope, enhancing compatibility with chrony-disabled NTP-only systems. PLAT-13027
* Removes the need for `sudo` in the node-agent installer if the user is already running as root, beneficial for pbrun users. PLAT-13080
* Now ensures sorting of undefined build tags preventing potential crashes during version comparisons in the UI. PLAT-13129
* Alters yb-master and yb-tserver systemd services to restart always, not just on failure. PLAT-9737
* Renames the create provider config label from "Kubernetes" to specific terms including "VMware Tanzu", "Red Hat OpenShift", and "Managed Kubernetes Service". PLAT-10888
* Updated the API documentation to guide users in correctly forming the payload for smart resize in Read Replica clusters. PLAT-11337
* Corrects the documentation for API payload formation in the case of smart resize for Read Replica clusters. PLAT-11337
* Updates yugabyted-ui packages /x/net and /x/crypto for enhanced security. Backports available upgrades to all stable versions. Also migrates to Play 3.0.x. PLAT-11660
* Updates the httpclient version to increase stability and performance. PLAT-11661
* Redesigns the delete region modal to eliminate fields specific to AWS, reducing confusion when deleting regions across different cloud providers. PLAT-12446
* Blocks adding a new instance type with an existing name in the `Add instance type` modal to avoid unintentional edits in the on-prem provider. PLAT-12641
* Improves LDAP login error messaging when a trusted certificate is missing by accurately showing `ERR_04120_TLS_HANDSHAKE_ERROR`. PLAT-12703
* Displays the correct Linux version for a read replica by utilizing the appropriate cluster information. PLAT-12791
* Rectifies the `NullPointerException 500` server error during backup configuration retrieval. PLAT-12954
* Allows single-click to open action dropdown options and double-click to open side panel details. PLAT-13036
* Adds a line for actual provisioned IOPS on the "Disk IOPS/node" graph for comparison with current disk IOPS. PLAT-8764
* Corrects truncated instance type text in Azure Universe by adjusting UI widget size. PLAT-9133
* Allows disabling sorting for `Agent Status`, `Version`, and `Time since heartbeat` in NodeAgent UI. PLAT-9847
* Helps prevent UI crashes by updating the error message schema and introducing a try/catch block in the backend. PLAT-10835
* Upgrades urllib3 to version 1.26.18, addressing high and medium vulnerabilities. PLAT-11244
* Disables use of `IAM Profile` for non-AWS YugaByte Platform deployments, preventing task failure. PLAT-12181
* Enhances visibility of read replica information in the user interface by adjusting the primary cluster size. PLAT-12309
* Enables appending extra tags after the build number in ybdb builds for enhanced parallel testing support and accurate representation in GET /releases API. PLAT-12386
* Fixes a null pointer exception occurring during the unit test EditUniverseLocalTest.testTimeoutingChangeMasterConfig. PLAT-12665
* Allows re-triggering of configure db APIs tasks even if a prior task failed after a password reset during authentication disabling. PLAT-12676
* Removes non-existing tables from selection and subtracts selected index table count to ensure accurate database and table count, improving the user interface's clarity during replication configuration. PLAT-12754
* Prometheus client creation is skipped in the community edition to prevent unnecessary stack traces in the logs. PLAT-12789
* Allows for configuration database tasks to be conveniently aborted. PLAT-12803
* Allows creation of GCP provider even when OS patching is enabled by managing region metadata exclusively for AWS. PLAT-12809
* Upgrades the yba-installer to PostgreSQL version 14.11. PLAT-12878
* Prevents Start and End time widgets from overlapping in Yugaware logs page when the window is reduced. PLAT-12925
* Resolves parsing error in memory_limit_bytes logic, enabling accurate suffix string matching and allowing floating point values for tServer resources. PLAT-12960
* Allows quicker YBC upgrade unit test execution by making retries and sleep count configurable. PLAT-12963
* Adds data-testId to YBMenuItem component to assist in QA automation. PLAT-12973
* Fixes issue of overlapping IP information and health check label on each node's health tab. PLAT-8500
* Corrects the retrieval of autoflags from the target universe, ensuring tserver autoflags, not master autoflags, are compared during backup procedures. PLAT-13161
* Marks `useIMDSv2` as deprecated at the provider level and moves it back to AWS cloud info. PLAT-13482
* Updates YBC client and server versions to 2.1.0.0-b9, removing an error condition for multiple master leader addresses and enhancing Java client's resilience to short network outages. PLAT-13529
* Fixes a bug with incorrect readings if values were not set at the provider level. PLAT-13606

</details>

## v2.21.0.1 - May 28, 2024 {#v2.21.0.1}

### Download

<ul class="nav yb-pills">
 <li>
   <a href="https://downloads.yugabyte.com/releases/2.21.0.1/yba_installer_full-2.21.0.1-b1-linux-x86_64.tar.gz">
     <i class="fa-brands fa-linux"></i>
     <span>Linux x86</span>
   </a>
 </li>
</ul>

## v2.21.0.1 - May 17, 2024 {#v2.21.0.0}

This is a [YugabyteDB-only release](../../ybdb-releases/v2.21/#v2.21.0.1), with no changes to YugabyteDB Anywhere.

## v2.21.0.0 - March 26, 2024 {#v2.21.0.0}

### Download

{{< warning title="Use 2.21.0.1">}}
{{< /warning >}}

### Highlights

**New YugabyteDB Kubernetes Operator**

A preliminary version of the completely rewritten YugabyteDB Kubernetes Operator is available in [Tech Preview](/preview/releases/versioning/#feature-maturity). The new operator automates the deployment, scaling, and management of YugabyteDB clusters in Kubernetes environments. It streamlines database operations, reducing manual effort for developers and operators.

For more information, refer to the [YugabyteDB Kubernetes Operator](https://github.com/yugabyte/yugabyte-k8s-operator) GitHub project.

### New features

* [Kubernetes Operator](https://github.com/yugabyte/yugabyte-k8s-operator). Automated deployment and management of  clusters via the Kubernetes operator pattern. Includes support for YugabyteDB universes as a Kubernetes custom resource. Backup, upgrade, scale-out, scale-in, and more are possible on this Kubernetes custom resource. {{<tags/feature/tp>}}

### Change log

<details>
  <summary>View the detailed changelog</summary>

#### Improvements

* Reduces PEX activation time by generating a PEX virtual environment on target's side for quicker and seamless python runtimes, mitigating slow execution issues in certain environments. PLAT-10217
* Reverts commit to address the issue of PEX activation slowdown of 4-8s in certain environments. PLAT-10217
* Reduces PEX activation time by generating a PEX virtual environment on target's side for quicker and seamless python runtimes, mitigating slow execution issues in certain environments. PLAT-10217
* Adjusts universe operations to update the database state only after completing actual tasks, refines KubernetesCommandExecutor to gather universe details from task parameters rather than the database, modifies parent workflows for GFlagsKubernetesUpgrade and KubernetesOverridesUpgrade to persist universe details to the database at workflow's end, and revises ConfigureDBApisKubernetes to store user intent in the universe after actual operation is executed. PLAT-10289
* Reduces false alarm rates by adjusting the severity label of the "DB Queue Overflow" alert from severe to warning, improving alert relevance. PLAT-10371
* Unifies all YBA python requirements to >=3.8, discontinuing support for Python 2 and disables Ansible offloading to the DB node if Python version is <3.8. PLAT-10475
* Integrates guard rails to check for existing tables before attempting to disable YCQL, enhancing data management. PLAT-10502
* Adds a public API endpoint for load balancers to identify the primary YugabyteDB instance in an HA configuration, thereby facilitating apt traffic routing. PLAT-10557
* Integrates SpecificGflags support into gflags audit, including a "readonly_cluster_gflags" field to tackle read replica overrides. PLAT-10616
* Corrects the handling of missing Node UUIDs in 2.6 upgrades, ensuring universes created in older YBA versions can successfully execute tasks in newer releases and accessible in Read Replica (RR) clusters, thus preventing task failures. PLAT-10628,PLAT-10542
* Augments the logging for backup schedules to aid in debugging issues related to incremental backups running more than once, particularly beneficial in resolving schedule failure alerts for users scheduling incrementals at short intervals. PLAT-10694
* Introduces IAM support in the GCS backup configuration, enabling users to use workload identity credentials for backup storage config creation without manually passing json credentials via the UI/API. PLAT-10724
* Introduces DB node-based preflight validation for storage configurations used during backup/restore through the newly exposed gRPC `backupServiceValidateCloudConfig`, enhancing the reliability of backups and restores. A universe level runtime flag `skip_config_based_preflight_validation` is also added allowing users to skip these validations. PLAT-10725
* Introduces universe name and zone labels to DB pods and other resources established by YBA, dramatically aiding the creation of a shared service across multiple AZs, and offering smoother integration with CA automation systems. PLAT-10591,PLAT-10988
* :Send GCP IAM flag to YBC for backup/restore in YBA Send GCP IAM flag,if given in the backup config,to YBC gRPC for backup and restore in YBA.Send GCP IAM flag to YBC for backup/restore in YBA PLAT-11042
* Introduces a new API for accessing a list of feature flag runtime configs, enabling dynamic rendering of UI component bases on flag values, without needing authorization. PLAT-11053
* Introduces a checkbox in the UI for the creation and editing of GCP storage configuration, facilitating the use of the USE_GCP_IAM feature. PLAT-11116
* Grants `update_profile` permission to ConnectOnly role, establishes a super admin check in the set runtime config key API, and prevents resetting of rbac runtime config. PLAT-11013,PLAT-11054,PLAT-11117
* Allows expanded role bindings for new resource types during role edits. Also permits viewing and updating users with requisite permissions, even after role editing. PLAT-11147
* Revises backup prefix in YB to improve intuitiveness, triggering effortless grouping of parent and incremental backups. Backup storage locations become more human-readable linking parent and incremental backups. PLAT-11150
* Redefines the S3 directory hierarchy for YBA backups, resulting in a more intuitive and user-friendly structure to group full and incremental backups based on cluster uuid and parent backup uuid. PLAT-11150
* Restores missing Path annotations in DrConfigController, PerfAdvisorController, TelemetryProviderController, and YbcController for smoother API interactions. PLAT-11264
* Allows support bundle collection even if a node fails or is down, preventing the bundle creation process from getting stuck. Also ensures stuck support bundles are deleted upon YBA restart. PLAT-11288
* Allows permission management in the performance advisor and disaster recovery user interface. PLAT-11344
* Expands access control by incorporating permissions to the performance advisor User Interface. PLAT-11344
* Redefines permission rules to grant `OTHER.READ` by default when `UNIVERSE.READ` is assigned, enhancing user's access to all associated resources. PLAT-11433
* Now uses the request URI, not the request path, to authorize users during API calls. PLAT-11456
* Enables disabling certificate validation for High Availability (HA) through runtime configuration for enhanced flexibility. PLAT-11526
* Allows custom role users to modify timezone using updateProfile API. PLAT-11585
* Now the list role binding API authorization only verifies for specific permissions, allowing users to view roles attached to their user profile. PLAT-11592
* Includes a runtime configuration `yb.node_ops.leader_blacklist.fail_on_timeout`, failing the `StopNodeInUniverse` operation if the leader blacklist doesn't complete within a set timeout. Beneficial for customers managing multiple failover layers to secondary databases. PLAT-11892
* Increases readability of built-in Role descriptions by expanding the viewing area and adding a hover-over function. PLAT-11972
* Adjusts finalize info API to transmit universe name and version with uuid, reducing redundant API calls in UI. PLAT-11981
* Allows certificate rotation for universes with expired certs by falling back to non-rolling upgrade from hot_reload. PLAT-4493
* Enables direct access to Master and Tserver UUIDs for each node within the Universe's nodes tab, easing debugging processes by eliminating the need to use the Master Admin UI. PLAT-5199
* Allows users to disable the scraping of Kubernetes node metrics, that show CPU, memory, and disk utilization graphs for Kubernetes-based universes, with a new Prometheus flag. PLAT-9097
* Enhances backup script logging for better performance diagnosis. Logs capture start and end times of tasks, the time tasks enter and leave the queue, data transfer details, and command completion times. PLAT-9351
* Introduces an API that automatically syncs users and roles from an LDAP server to a YBDB cluster running YSQL/YCQL, replacing the need for manual scripts. PLAT-9799
* Updates the generate script for easier usage, removes Azure ARM support, and reruns it with 8.9 as the desired version to address an issue with GPG key on older Almalinux 8 images. PLAT-12855
* Introduces new Memtable metric name, ensuring data visibility on master and version 2.20.0. Includes a migration script for swamper target files regeneration. PLAT-11315
* Simplifies on-prem setup by streamlining the movement of node-agents between providers, incorporating error message for download failures, and adding bind address for DNS usage. PLAT-11889
* Includes alerts for db ysql/ycql webservers in YBA health checks to monitor 9070, 9300, and 13000 ports, enhancing awareness of node status. PLAT-12067
* Returns security vulnerabilities by upgrading the jackson-databind library to version 2.15.3 and changing to the latest managed version of ehcache at 3.10.8, from 2.10.6, that contained medium to critical severity vulnerabilities. PLAT-9635
* Reimplements master operation completion check using ListMasters or ListMasterRaftPeers for efficient change configuration, now default, enhancing user workflow. PLAT-10162
* Prevents creation of a basic xCluster configuration if either universe is part of a transactional xCluster configuration. PLAT-10193
* Allows limited editing of in-use providers on the YBA UI, particularly beneficial for adding new regions. This feature introduces a new runtime config, retains unedited/unexposed provider details, and manages various enable/disable statuses for zones/regions. PLAT-10279
* Modifies the follower lag check to use the node endpoint instead of Prometheus metrics increasing reliability in scenarios where Prometheus might be down. Introduces a new runtime config `follower_lag.max_threshold` to allow control over the maximum time allowed for a tserver/master to lag behind peers. PLAT-10286
* Shifts the Prometheus configuration check to a preflight stage to early correct any configuration errors, although limitations remain for time syntax parsing in Golang. PLAT-10369
* Ensures predictability and prevents partial data deletion by disabling the master removal callback, relying on YBA for proper state clean-up. PLAT-10401
* Integrates the `ap-south-2` region into YBA, updates the AWS AMIs to 8.8, and includes previously absent availability zones in the AWS regions. PLAT-10407
* Lets you set the `master_join_existing_universe` parameter to `false` post cluster creation, offering atomic replacement without recreating the config files. PLAT-10511
* Displays a warning when attempting to rotate node-to-node CA certificates for source universes in xCluster replication, informing that this action can interrupt replication and require a restart of the xCluster configuration. The warning also appears when toggling TLS encryption on/off for such universes, improving awareness of potential xCluster replication impact. PLAT-10660
* Introduces a `customer` level runtime configuration, `show_xcluster_config`, that unveils the underlying xCluster configurations from DR setups in the xCluster tab for better troubleshooting. PLAT-10734
* Rearranges `replicated-migrate` help message in ybctl for a more intuitive command flow, replacing its previous alphabetical order. PLAT-10970
* Enables retrying the Upgrade KubernetesOverrides task for updating overrides on pods as the helm call is idempotent. PLAT-10977
* Enables specification of a shared VPC project ID in the YBA UI for GCP providers, replacing the now redundant GCP project name field, enhancing VPC shared environment support and allowing better customization. PLAT-11065
* Updates Go version to 1.21.3 in YBA node agent and installer, enhancing security by fixing critical vulnerabilities. PLAT-11191
* Enables non-rolling gflag upgrade operations for YBC. This addition involves updating the gflag values in the cluster file, stopping and starting the YBC process, and updating the custom YBC gflag details in the clusters userIntent. Also ensures updated gflag values are applied during upgrade operations along with node binaries. PLAT-11198
* Adds `ts_live_tablet_peers` metrics to YBA charts, indicating the count of tablet peers (including followers and leaders) on each node. PLAT-11258
* Simplifies volume expansion process by ignoring errors during expansion of Persistent Volume Claim (PVC), allowing recreation of the Stateful Sets (STS), and then throwing any PVC expansion exceptions. This change improves error handling in the volume expansion process by continuing the operation despite issues at the PVC expansion stage. PLAT-11454
* Allows users to upgrade Linux OS VM directly through the universe creation page. PLAT-11482
* Prevents UI crash by adding compatibility check during image bundle addition on the universe creation page. PLAT-11482
* Modifies version check workflow to handle non-existent settings and prevent rollbacks during a replicated migration if there's a YBA version change. PLAT-11630
* Revamps the UI wording by replacing `bootstrap` with `full copy`, modifying the modal text for better clarity and updating buttons to capital case. Includes the DR replica name in the switchover and failover modal titles and adjusts the confirmation text for clearer user interaction. PLAT-11664
* Introduces two Jupyter notebooks for xCluster and dr APIs use exemplification. Makes `bootstrapParams` an optional field for `set_tables` API and allows for skipping table bootstrapping when not passed during `add table`. Simplifies `create api` payload by using `bootstrapParams` instead of `bootstrapBackupParams`. Optimizes table selection in database during replication removal, focusing on YSQL tables. PLAT-11678,PLAT-11618,PLAT-10622
* Updates Akka version to 2.6.21 in YBA to support multiple subscribers. PLAT-11679
* Makes the lock and freeze mechanism for universe tasks simpler and easier to understand, reducing migration effort. PLAT-11769
* Introduces a confirmation dialog for all edit operations on K8 based universes, ensuring consistency with VM based universes. PLAT-11943
* Displays the default master volume size as disabled and set at 50 GiB during the `Create universe` step for simplified setup. PLAT-11944
* Integrates BouncyCastle as the cryptographic provider for jwt token generation, enabling FIPS compliance. Adds BouncyCastleProvider to the security context before keyPair creation. PLAT-11952
* Removes outdated provider credential update helper script to enhance security, and transitions away from Springframework encryptors to use Bouncycastle FIPS library for better compliance. PLAT-11999
* Replaces the existing Python Cryptography library with OpenSSL to ensure future compliance with FIPS regulations while simplifying updates and reducing the need for major platform overhauls. PLAT-3538
* Incorporates support to replicate colocated tables through xCluster. The API adaptation only requires passing the parent table ID; the user interface remains unchanged. Make sure to follow the prerequisites for colocated replication, otherwise, replication won't function. PLAT-3748
* Now allows retrying of the `Upgrade Kubernetes Universe` task. PLAT-8423
* Optimizes upgrade process by prioritizing selection of an active tserver in the same region as the master leader, reducing time spent securing postgres connections in multi-region setups. PLAT-8975
* Enables the display of restored tables (YCQL) in the front-end interface via the Restore List API. PLAT-10404
* Enhances chart zooming functionality to provide consistent scaling and fine-grained data points across various metrics, including YSQL and YCQL, by implementing unique tab names and updated table metric selection process. PLAT-10824,PLAT-10656
* Introduces a `View Universe` option to inspect the user intent of the created universe and the status of the primary cluster and read replicas if available. PLAT-11107
* Allows collection of only recent core dumps from the request body. Adds two new fields in the `createSupportBundle` API: `maxNumRecentCores` to define the number of recent files to collect, and `maxCoreFileSize` to set a size limit for each file. Defaults for these fields are 1 and 25GB respectively, if not specified. PLAT-11505
* Adds backend API support for replicating colocated tables in xCluster UI. Introduces new table type and changes how tableID and tableUUID are used. Ensures better handling of table names and drops size info for child tables. PLAT-11770
* Allows retry and abort operations for `InstallYbcSoftwareOnK8s` and `UpdateKubernetesDiskSize.java` tasks, enhancing task handling. PLAT-8425,PLAT-8426

#### Bug fixes

* Enables restoration of backups moved from their original bucket to a different bucket in the same/another cloud, given the entire relative directory inside the bucket remains the same. PLAT-10179
* Allows adding a custom prefix to YBA application and audit logs through the new `filePrefix` field in `logging_config` and `audit_logging_config` APIs. PLAT-10223
* Ensures correct interpretation of special characters and spaces in log filtering by quoting the grep_regex variable passed to the command line script. PLAT-10321
* Introduces an `active` field in the image bundles, hardens image bundle validation for region additions in the provider, and accommodates three types of bundles: YBA_ACTIVE, YBA_DEPRECATED, and CUSTOM. Transfers image bundle editing to the task and removes region references from the image bundle when the region is deleted. It now strictly fetches `active:true` image bundles for each provider & structure. PLAT-10363
* Introduces runtime flag checks for all new RBAC APIs, also marking them as `PREVIEW` via `@YbaApi` annotation. PLAT-10438
* Introduces the @YbaApi annotation to express API visibility and state, offering public, preview, internal, or deprecated states as status options. PLAT-10456
* Removes outdated definitions once part of the API, streamlining database operations and enhancing `swaggerGen` functionality. PLAT-10456
* Reverts overly aggressive swagger definitions removal and introduces manual marking as internal for better control and introduces YbaApi annotation. PLAT-10456
* Introduces validation when assigning or adjusting role bindings for resources with generic permissions, ensuring correct role bindings for specified resources. PLAT-10483
* Enables CA certificate chains in YBA's trust store, fixes issues with deleting CA certificates, and handles migration of certificate chains during YBA migration V274, reducing user-facing UI errors. PLAT-10530,PLAT-10529
* Incorporates the `useTablespaces` boolean factor while listing backups. PLAT-10552
* Eliminates stale PostgreSQL socket lock files upon pod startup in Kubernetes, preventing PostgreSQL from failing to start and offering seamless restarts. PLAT-10576
* Improves the reliability of backup restores in Docker-based installations by rectifying the command generated by `yb_platform_backup.sh`, addressing issues of the restore process failing due to inaccessible file paths. PLAT-10579
* Resolves the failure of the `yb_platform_backup.sh` restore commands in version 2.18.3 by fixing the `back_plat_version` variable assignment and addressing the "no such file or directory" error while running `pg_restore` inside the container. PLAT-10579
* Boosts reliability by ensuring EditUniverse tasks remain retryable even if Destroy Server subtasks fail partially due to script deletion. PLAT-10606
* Allows you to sync roles seamlessly before enabling the `use_new_authz` runtime flag, eliminating errors when adding new customers. PLAT-10618
* Resolves backward compatibility issues in new YBA releases by ensuring successful task completion even when Node UUID is missing, a problem reported in multiple Universes. PLAT-10628
* Expands a user's role binding automatically when extending their role to include `UNIVERSE.CREATE`, setting `allowAll=true` and an empty resource UUID. PLAT-10640
* Resolves numerous UI and RBAC issues, including lack of access to alerts, backups, and various tabs for superadmin, issues with roles and permissions, and non-working sort functionality. PLAT-10670
* Enables `allowAll=false` and empty resource UUID set in the new RBAC when creating or updating role bindings, restricts `OTHER.SUPER_ADMIN_ACTIONS` permission in custom roles, user assignment of `SuperAdmin`role to any role bindings, and scoping down of system defined roles. No longer pass `resourceGroup` in the payload for `roleResourceDefinitions` for system-defined roles. PLAT-10689
* Introduces an option to add service account names to DB pods through `serviceAccount` in DB helm charts. PLAT-10691
* Reinstates the missing `Restore Tablespace` option for Incremental Backups, enhances the visibility of the `Backup location` button in Restore History, and removes the `Aborted` filter from Restore History. PLAT-10695
* Corrects user interface bugs, ensuring the auto-selected permission in RBAC visibly displays a tooltip for first-time users. PLAT-10780
* Allows the use of `su -c` to run commands as a specific user, enhancing compatibility with corporate sudo whitelists. PLAT-10794
* Prevents selection of duplicate roles and accurately displays universe count in the portal even when no universes are present. PLAT-10802
* Disables "Edit Role" for system roles, enhancing security by prohibiting unintentional changes while still displaying role permissions and associated users. PLAT-10813
* Disables `Add GFlags`, `Add as JSON`, and `Apply Changes` buttons on the GFlag UI page without UNIVERSE.UPDATE permissions. PLAT-10845
* Rectifies UI bugs to deliver precise information messages that clarify why backup on Universe is disallowed. PLAT-10849
* Refines node equality assessment and sequences subtasks in universe creation and editing more adeptly for fewer later issues. PLAT-10886
* Alters authentication protocols to fetch resource details based on a logged-in user's scope, eliminating unnecessary permission checks and enabling API token authentication. PLAT-10841,PLAT-10887,PLAT-10129,PLAT-10810
* Grants `ConnectOnly` role by default when no system roles are assigned, enhances error messages for incorrect permissions in Create Role API, and sets `OTHER.READ` as a prerequisite for `UNIVERSE.CREATE` permission. PLAT-10692,PLAT-10891,PLAT-10840
* Annotates the YugabyteDB APIs with correct visibility states including public, internal, preview, or deprecated, improves API documentation, and performs scrubbing operations for consistent API descriptions. Enhancements to the platform also include documenting SQL commands to disconnect a universe from the platform, deprecating certain UI functions, and displaying deprecation messages in red in API docs. Modifies the handling of runtime configs for API calls to boost performance, and eliminates the usage of enableYBC and installYBC in the UniverseTaskParams for streamlined operations. PLAT-10899
* Grants read permissions to Universe configuration and fetch logs API, addressing issues with creating Universe and loading availability zones. PLAT-10721,PLAT-10904
* Streamlines the permissions required for URL Endpoints and their handling by the UI, restricts certain security adjustments without explicit permissions, and provides consistent information messages to users lacking necessary permissions. PLAT-10894,PLAT-10909,PLAT-10844
* Revises EAR according to API scrub 2.20 documentation, confirms all RBAC APIs are already internal, and announces no changes required for Support Bundle APIs. PLAT-10910
* Rectifies the visibility of RBAC permission errors when insufficient permissions prevent the "Create Support Bundle" button from functioning. PLAT-10917
* Allows downloading of support bundle with `UNIVERSE.READ` and `OTHERS.CREATE` permissions and deletion with `OTHERS.DELETE` and `UNIVERSE.READ` permissions. PLAT-10933
* Allows successful access key rotation for manually uploaded keys by generating the correct public keys, eliminating connectivity issues to DB nodes. PLAT-10935
* Modifies API tests to display all errors simultaneously, simplifying the troubleshooting process, and marks APIs including Alerting, PA, Telemetry, and Maintenance as indicated in the document. PLAT-10937
* Rectifies the SSO login glitch by shifting the RBAC enabled logic to the Authenticated container, ensuring uninterrupted login experience. PLAT-10942
* Introduces `disabled` feature for the `readOnly` and `backupAdmin` roles, correcting the API call made while altering passwords. PLAT-10960
* Adds support for partial upgrade, finalize, and rollback of Kubernetes universe database upgrades. PLAT-10971,PLAT-10974,PLAT-10973
* Enables control over container-level resources within a pod using overrides, offering container-specific resource adjustability primarily for `yb-cleanup` and `ybc`. PLAT-10990
* Enables read-only users to see `Create Backup` buttons as disabled to prevent backup initiation on the tables page. PLAT-10993
* Enables creation of xcluster replication with universe permissions only, eliminating the need for additional resource permissions. PLAT-11000
* Modifies API annotations for deprecated APIs in Backup/Restore/Schedules flow for clearer user understanding. PLAT-11001
* Unveils updates to user permissions, enabling Edit Universe and Edit Security buttons with UNIVERSE.READ permission, allowing the view of universe configuration, and adjusting backup and restore permissions for SuperAdmin. PLAT-11004,PLAT-10940,PLAT-10908
* Ensures actionable buttons display permission errors when clicked, enhancing user interaction with Certificates, Alert Policies, and User Roles management, particularly for SuperAdmin users. PLAT-11011
* :Fixed Typo from -fix :Buttons don't show perm error when clicked Fixed a typo [RBAC}UI]Buttons don't show perm error when clicked Add Certificate 2.Create Alert Policy 3.Delete and Edit User -Only SuperAdmin user 4.Edit/Delete System Roles PLAT-11011
* :New Rbac Validator changes -[RBAC|UI]Make superadmin permission changes on UI based on backend Implemented new Validator to support Api to permissions mappings.Previously,we used to maintain a api to perm mapping ourselves.But,now the mapping comes from the backend.Created a new rbac validator to adopt this.Changed all the occurrence of the old validator to new validator [RBAC|UI]Make superadmin permission changes on UI based on backend In backend,we have made changes to not enable/edit LDAP/OIDC/HA/Runtime configuration.We need to make sure UI is consistent PLAT-11016
* :Fix:Removal of data-testid New Rbac Validator changes -[RBAC|UI]Make superadmin permission changes on UI based on backend data-testid are accidently removed of this [[|diff ]]This diff adds this again [RBAC|UI]Make superadmin permission changes on UI based on backend In backend,we have made changes to not enable/edit LDAP/OIDC/HA/Runtime configuration.We need to make sure UI is consistent PLAT-11016
* :Make the required permission annotation changes for APIs Modified the required permissions based on the discussion with the team.[PLAT][RBAC]Only superadmin should be able to do CRUD ops for HA As per older RBAC,both admin and superadmin can perform HA operations.We need to decide what to do going forward.[testschedulebackup-aws-rf3]DELETE:/api/v1/customers/{uuid}/schedules/{uuid}is not working with BACKUP_RESTORE permissions Permissions on User:Logs:[RBAC][YBA]YBA doesn't shows Universe cost,CPU usage and Disk Usage to users with View universe permission User roles:Builtin roles -Connect-only Custom roles -View Universe Resume/Pause Universe [testsimpleops-aws-nton-tls]api/customers/{uuid}/universes/uuid}/tables/{uuid}/create_backup is not working with UNIVERSE.BACKUP_RESTORE permissions /api/customers/{uuid}/universes/uuid}/tables/{uuid}/create_backup is not allowed with these permissions:{`resourceType`:`OTHER`,`action`:`READ`},{`resourceType`:`UNIVERSE`,`action`:`READ`},{`resourceType`:`UNIVERSE`,`action`:`BACKUP_RESTORE`},{`resourceType`:`ROLE`,`action`:`READ`},{`resourceType`:`ROLE`,`action`:`UPDATE`} PLAT-11025,PLAT-11028,PLAT-11017,PLAT-11009
* :Users without permission not able to login Axios intercepts the runtime config 401 and logouts the user.Fix:Prevent the axios from logging out till the runtime config is either loaded/failed Users without permission not able to login PLAT-11052
* Corrects the threshold setting for recreated "Backup Deletion Failure" alerts to match their original default values. PLAT-11055
* Enables setting rollback variables values by fixing JsonProperty annotation and adds an API to check if additional finalize step is needed for upgrade. PLAT-11067
* Prevents automatic flag promotion during rollback support, now requiring manual user promotion through the finalize API during software upgrades and universe deletions. PLAT-11070
* Disables the `Backup tablespaces` checkbox in the `Backup` tab when `YCQL` is selected as the API type, preventing unnecessary selections. PLAT-11073
* Allows the removal of stale replication streams from the source universe during table deletion in failed replications status, preventing lingering streams after xCluster config alterations. PLAT-11076
* Revises the Role-Based Access Control (RBAC) User Interface to correct bugs, ensure disabling of alerts for SuperAdmin, enhance visibility of permission errors, and improve handling of missing read permissions. It also addresses problems where the same role is selected multiple times during role editing, or the inability to delete a user with proper permissions. PLAT-10956,PLAT-11096,PLAT-10803,PLAT-10938,PLAT-10948,PLAT-10950
* Allows the backup script to proceed unimpeded even if the Prometheus snapshot isn't found, ensuring successful data backup and replication installation migration. PLAT-11102
* Unveils the Node Actions button for users with UNIVERSE.READ permissions and introduces data-testids, allowing users to read node actions such as Connect and Show Live Queries comfortably. PLAT-11122
* Marks APIs with appropriate annotations for Tables and Universes. PLAT-11133
* Reverts update to make backup storage locations for incremental backups linked to parent backup more easily readable. PLAT-11150
* Includes a confirmation dialog in the user interface for universe editing changes, reducing the risk of unfortunate errors, like incorrect node scaling. PLAT-11163
* Allows passing both Java and PEM trust stores for TLS handshakes to support multiple CA certificates in YugabyteDB's trust store. Also, resolves an issue related to deletion of root certificates from the trust store. PLAT-11176,PLAT-11170
* Corrects RBAC annotation definition in Delete backup API for accurate alert triggering on backup failures. PLAT-11194,PLAT-11183,PLAT-11203
* Eliminates the persistent release dropdown issue when RBAC is enabled, ensuring a smooth user experience and successful cross version tests. PLAT-11206
* Allows consistency in universe states by synchronizing `specificGFlags` with `tserverGFlags/masterGFlags`. Supports both UI and API users in terms of gflags with temporary measures for older approaches. PLAT-11207
* Removes unnecessary errors when rolling back AutoFlags, ensuring a smooth rollback process, even when no AutoFlags are available to revert. PLAT-11212
* Minimizes redundancy by skipping nodes during retry if they have already undergone upgrade/rollback actions. PLAT-11253
* Allows longer hostnames (up to 28 characters) for universe creation in on-prem provider instances and includes a preflight check for Python on the target node. PLAT-11254
* Blocks non-GET requests on HA follower's API access, reducing accidental universe creation or modifications. Retains certain special API functionalities for follower tasks. PLAT-11256
* Introduces a new arg `useTserver` in the `yb_backup.py` script for successful backup operations on k8s and universes with dedicated master nodes, fixing S3 V2 backup failures. PLAT-11260
* Deactivates the `Submit` button on the updated TLS modal for users with insufficient permissions, preventing a 401 error. PLAT-11295
* Enhances backup deletion process with retries, adjusts GCS backup batch size to 100 for best practice adherence, and ensures large backup deletion in GCP. PLAT-11299
* Ensures rollback feature flag remains enabled post-upgrade and enhances UI components and flow related to upgrade finalization. PLAT-11332
* Returns an error if a replication request is made for unsupported tables in xCluster and introduces a new `onlySupportedForXCluster` API query string to list only supported tables. PLAT-11352
* Alters UI components to use `xClusterSupportedOnly` query parameter instead of `onlySupportedForXCluster` when setting up replication. PLAT-11352
* Minimizes UI crashes when a timezone is selected from User Profile and `Custom` date picker is used in the metrics tab of the Universe page. PLAT-11358
* Corrects annotation for multi_table_backup API to use UNIVERSE.BACKUP_RESTORE instead of UNIVERSE.UPDATE for accurate permissions application. PLAT-11363
* Allows rollback for universes tagged as ready and fixes new YSQL migration check, enhancing auto-finalize upgrade process. PLAT-11365
* Prevents update of software upgrade state in event of a pre-check failure. PLAT-11366
* Enables customization of environment variables in Prometheus container via the Statefulset YAML file. PLAT-11372
* Allows retrying or aborting tasks from the global task page, using universe UUID extracted from task data. PLAT-11405
* Returns a `bad request` error instead of silently failing when attempting to edit a role name, and now issues a 409 status for role name conflicts. PLAT-11436
* Enables immediate access to a universe created in another session without refreshing the current session, and makes the restore button in global backups page available for superAdmin. PLAT-11460
* Expands task details API to include software version changes and allows overriding of gflags for pre-finalize state universes. PLAT-11461
* Enables editing of user profiles for users created through LDAP without requiring email validation and fixes disabled `Save` button issue on read replica form during primary cluster creation. PLAT-11487
* Fixes an issue where using the custom date picker in the create support bundle option switched the start and end dates, yielding only one day of logs. PLAT-11497
* Enforces read-only status for LDAP users, fixes UI bugs, and updates "Users" tab column name to "Username/Email". PLAT-11508
* Adds required authorization annotations to APIs, preventing breaks in audit logging when new RBAC is active. PLAT-11513
* Enables pre-upgrade checks to determine if finalization is needed post-upgrade, offers a list of related universes where XCluster might be interrupted during an upgrade, and refines the Rollback API error message for better clarity. PLAT-11519,PLAT-11067,PLAT-11365,PLAT-11069
* Changes affected_node_names and similar labels from space-separated to comma-separated to align with notification templates' specifications. PLAT-11532
* Corrects a regression that caused platform restarts to fail in resuming backup tasks and releasing universe locks, thus ensuring the stability of backup and restore tasks during platform restarts. PLAT-11533
* Incorporates a rollback upgrade feature supporting standalone universes, updates upgrade modals, integrates `enable_rollback_support` runtime flag with `New DBVersionWidget` across all universe states, and blocks actions based on upgrade states. Maintains old upgrade flow for XCluster universe. PLAT-11334,PLAT-11336,PLAT-11333,PLAT-11332,PLAT-11536
* Introduces a universe scope based runtime config `enable_rollback_support` for better management of finalize/rollback upgrade APIs. PLAT-11544
* Introduces `yba universe upgrade software` command for easier universe software upgrades. PLAT-11553
* Ensures correct length validation for the Java non-proxy field in the YBA installer. This change also enables skipping config validation for easier future workarounds. PLAT-11568
* Introduces support for SMTP TLS connection to use YBA's trust store, enhancing email alerts' security and preserving existing configurations' backward compatibility. PLAT-11580
* Enables backups taken during the monitoring phase to be restored on the same universe and filters out test autoflags when fetching promoted autoflags. Ensures version check during restore is always performed on the rollback DB version. PLAT-11535,PLAT-11596
* Disables the same release version on the upgrade modal if the universe is currently on that version and ensures the universe state now updates after upgrade, rollback, finalize, or retries. PLAT-11614,PLAT-11600
* Initiates a backend setup for the Troubleshooting Service, also forms a designated folder for further development. PLAT-11621
* Applies restriction on setting role bindings for LDAP users with the upgraded RBAC setRoleBindings API. PLAT-11627
* Allows success in adding on-prem nodes using NodeAgent by aligning preflight response processor workflows. PLAT-11641
* Allows super admin user access to Dashboard and Universes page even when no universe is available by checking permissions from user_role_bindings. PLAT-11649
* Prevents non-super-admin users from changing global runtime configurations, ensuring stricter role-based access control. PLAT-11667
* Ensures universe overrides apply properly, resolving a regression. Fixes the non-rolling gflags upgrade and guarantees in-memory universe use in workflows. Updates TestGkeSAbackup, ensuring it no longer fails by correctly setting Kubernetes overrides. PLAT-11672,PLAT-10289
* Sets up basic infrastructure for database access, controllers, task scheduling, to kickstart backend development. PLAT-11673
* Prevents unselecting `Include Future Universes` when `Create Universe` is selected as a role permission. PLAT-11675
* Enhances tooltip when making a new user, clarifying automatic assignment of `Connect Only` role for users without built-in roles. PLAT-11676
* Enables creation of Read Replica without needing UNIVERSE.CREATE permission, fixing previous UI bug. PLAT-11691
* Corrects the Edit Backup API to require OTHER.UPDATE permission instead of OTHER.READ, ensuring a better consistency in permissions handling. PLAT-11715
* Restricts LDAP group rights by preventing them from obtaining DB superuser status and login permissions. PLAT-11776
* Avoids erroneous universe deletion failure messages in Azure Provider by validating public-ip assignment before performing deletion, especially beneficial for setups with restricted public-ip permissions. PLAT-11779
* Introduces a new software upgrade API that supports rollback, minimizing breaking changes in user code. Also, adds a new parameter to disable auto finalize within the existing software upgrade API. Updates rollback support version to 2.20.2 from 2.21.0.0 for cross-cluster support. PLAT-11480,PLAT-11792
* Corrects an issue affecting on-prem universes with multiple mount points, ensuring Prometheus expressions for disk usage metrics are generated correctly. PLAT-11813
* Assigns default operating system versions per cloud type instead of having a global default, eliminating potential confusion while setting custom image bundles to default. PLAT-11865
* Prevents k8s universe freeze caused by failed upgrade precheck ensuring uninterrupted upgrade tasks. PLAT-11867
* Updates Xcluster UI flow, disables upgrade delay time box when rolling upgrade is unchecked, hinders upgrade button during pending universe state, shows build number on Rollback modal, ensures consistent upgrade modal display from overview and action items, maximizes overview page space of k8 universes, and restores rollback button availability on actions dropdown for xCluster setup universes. PLAT-11633,PLAT-11866,PLAT-11601,PLAT-11734,PLAT-11888,PLAT-11772
* Safeguards YSQL/YCQL ports changes through configure DB APIs at individual VM node level, reducing risk of disruptions on unaffected nodes. Supports modifying ysqlServerRpcPort on a running universe. PLAT-11908
* Enables successful editing of read replica clusters, even if primary cluster details are missing in the request payload. It ensures correct volume size changes and smooth operation despite null ‘masterK8sNodeResourceSpec’ in taskParams. Additionally, uses ‘availableReplicas’ instead of ‘readyReplicas’ when determining health. Eliminates errors while increasing the number of nodes in a Read Replica in a Kubernetes universe. PLAT-11914,PLAT-10289
* Adds ability to query, fetch and store universe details and pg_stat_statements data in TS storage. PLAT-12012
* Enables running SQL queries against specific YugabyteDB nodes via API, now manually enabled for safety. OSS mode removal done due to functionality issues. PLAT-12013
* Adds classes to query metrics and tests for Prometheus API client, boosting metric retrieval. PLAT-12029
* Simplifies the software upgrade process for universes with xcluster by removing autoflag promotion checks based on versions. This eases the upgrade process even when different universes are on diverse versions. PLAT-12030
* Stabilizes MasterTask page by adding subtask group type in the createPreflightValidateBackupTask in the CreateBackupSchedule. Lessens task page instability and lessens unpredictability related to task progress bar appearance and disappearance. PLAT-12055
* Displays separate view for Rollback upgrade task types and integrates Rollback runtime flag in DBVersion widget. Fixes minor issues such as non-fetching of impacted xCluster universes during universe finalization and display typos. PLAT-12056,PLAT-12057,PLAT-11335
* Introduces UI components for the Troubleshooting (TS) framework, including a MetricSplitSelector, ClusterRegionSelector, YBDateTimePicker, and ZoneNodeSelector. New utilities include constants, date formatting, and object checking, as well as classes to convert universe/node data and process TS service data. This update also features functional components for handling node issues and displaying metrics. PLAT-12065
* Includes version information in the finalize upgrade tasks and adds completion time to task status API. PLAT-12071
* Integrates RBAC for rollback feature, includes `enableYbc` in upgrade payload, and disables UI elements for unauthorized operations. PLAT-12078
* Updates to the npm build-and-copy script now correctly retrieve map files and address missing assets in the YBA UI Region Map. The change ensures consistent behavior between `build:ci` and `build` scripts. PLAT-12094
* Blocks OIDC setup when multi-tenant setting is enabled for enhanced security. PLAT-12113
* Disables rollback options for universes updated from non-rollback support versions, ensuring compatibility with UI elements. PLAT-12157
* Adds on-premise manual provisioning steps to all releases and ensures consistency. Fixes minor issues and permits configuring a non-default `node_export` temporary directory. PLAT-12213
* Ensures correct and consistent time format on the task detail page, preventing unwarranted banners from showing during an upgrade-precheck failed state. PLAT-12246
* Switches storage in pg stat statements to save query latencies rather than raw data for better anomaly detection and moves query details to a separate table to lighten stats table. PLAT-12260
* Updates the yba-installer template to correctly display the YCQL P99 metric, which was missing due to a previous oversight. Ensures metrics are displayed even after upgrades. PLAT-12275
* Corrects the underreplicated master alert expression error caused by transition from code to YAML file, restoring alert functionality. PLAT-12331
* Allows restoration of table-by-table backups in YugabyteDB version 2.20 by modifying the overwrite condition check for table-level YCQL. Corrects the issue where the API request was incorrectly treated as overwrite, causing failures. The check now ensures no repetition of keyspace in restore requests and confirms table names provided are available in backed up tables. PLAT-12390
* Corrects a punctuation error in the Edit Gflags page and enhances the UI to display a reload modal if gflags are updated, confirming the changes made before application. PLAT-10452,PLAT-8078,PLAT-7272
* Allows reinstallation or repair of a faulty node-agent server in existing cloud-based universes. Choice to apply changes selectively. PLAT-8585
* Corrects the restore script, ensuring accurate regex matching and proper file copying for Prometheus data. Resolves Prometheus restore skipping in YBA backup and restore script. PLAT-8895
* Enables LDAP support with RBAC, generating role bindings based on the role identified from LDAP or LDAP group mapping. Custom roles are currently unsupported and role scope is set to resources under associated customer. TokenAuthenticator authorization omitted when RBAC runtime config is not enabled. Resolves UI redirection and local storage issues with SSO login. Removes password requests during user creation when SSO is enabled. PLAT-9084
* Enables custom headers in YugaByte API responses by including HSTS headers to improve https portal security, support custom headers for possible enterprise-level needs, and prevent `unavailable` errors when accessing the server via http. Ensures `HSTS` and other high-priority security-related headers like X-Content-Type-Options can be added per user requirements, especially in versions 2.18+ where nginx won't be used. PLAT-9109
* Allows setting custom HTTP headers, including HSTS and other security-focused headers, in YB API responses, specifically for k8s deployments in 2.18+. This not only maintains the flexibility from 2.16 and older versions while transitioning away from NGINX but also addresses high-priority security demands effectively. PLAT-9109
* Allows disabling TLS for s3cmd to support http-based S3/MinIO endpoints, introduces a temporary `no-ssl` flag in yb_backup.py. PLAT-9397
* Adjusts UI widget behavior based on Role-Based Access Control (RBAC) configuration. If RBAC is enabled, permissions are loaded and validated at component level using a validation wrapper. If allowed, the component load proceeds with an overlay for users without adequate permissions. If RBAC is disabled, the UI reverts to existing logic. Credentials are not cleared on encountering a `401 unauthorized` http status if RBAC is enabled. PLAT-9700
* Enables finalizing software upgrade during the universe's monitoring phase, which includes YB-Tserver and autoflag promotions. PLAT-9993
* Enables rollback of YugabyteDB software upgrades. Automatically restores old configurations, fetches nodes requiring rollback, adjusts versions on masters and tservers, validates installation of rollback version, and updates the software version details. PLAT-9994
* Assigns universe states based on task status and blocks specific actions depending on the universe's state, enhancing upgrade and software control. PLAT-9995
* Maintains upgrade tasks to show universe upgrade history and stores YugabyteDB version upgrade history, preventing scheduled deletion. PLAT-9997
* Enables rollback of auto-flag configurations via yb-client changes during an upgrade rollback. PLAT-9999
* Allows a rolling reprovision of DB nodes during software upgrade to avoid simultaneous reboots and subsequent client unavailability. PLAT-10527
* Reduces potential downtime during a rolling upgrade flow by avoiding node reboots during YBC software upgrades from version 2.14 to >=2.16 on Alma8 with YBA >=2.18.2. PLAT-10527
* Reverts unintended reboot during YBC upgrades or systemd updates on RHEL8 user mode systemd setups, mitigating potential downtime. PLAT-10527
* Allows the use of a specified SSH user to run sudo commands, replacing the previous default "centos" user option in the RunHooks command. This enhances custom hooks flexibility. PLAT-11349
* Enables automatic deletion of related customer tasks/task info when a customer is deleted, speeding up platform startup in YBM environments. PLAT-10210
* Deletes respective customer tasks/task info upon customer deletion, speeding up platform startup times in YBM environments. PLAT-10210
* Resolves a configuration issue by reading values from the runtimeConfig with a fallback to static conf, ensuring successful universe creation, especially when runtime config is defined at the customer scope. This prevents potential universe creation failures on recent master runs. PLAT-10496
* Enhances the Postgres container upgrade script for superior error handling, ensuring smoother upgrade regardless of the Docker version, benefiting both replicated and K8s deployments. PLAT-10531
* Restores the display of the instance type for non-Kubernetes universes on the Primary Cluster Widget overview page, correcting an error that caused the "Number of Cores" field to show instead. PLAT-10608
* Displays TServer label on top of Disk and CPU Usage to prevent user confusion and enhances disk widget accuracy for K8 universes tests. PLAT-10609
* Resolves the alert configuration issue when having multiple customers, enhancing the upgrade from version 2.19.3.0-b122 to 2.21.0.0-b12 to prevent Yugaware container from shutting down. PLAT-10629
* Increases Ansible timeout to handle slow disks and low CPU during Yugabyte unpacking, reducing node remove/add action exceptions. PLAT-10659
* Restores original data-test-id in the Encryption in Transit modal to fix issues with editing security locators and the submit button. PLAT-10713
* Corrects the issue with starting Azure VM instances, leading to successful Resume Universe operations in the 2.21.0.0-b65 build. PLAT-10859
* Removes the check for private IP during node agent installation, now defaulting to SSH when it's not set, avoiding installation skips and allowing universes to start up. PLAT-10860
* Updates the V290 migration process to reduce YBA startup time, by substitifying the lengthy query task with a faster one and enabling TaskGC to handle subtask deletion if query execution is prolonged. PLAT-10976
* ::Make feature_flags.granular_metrics runtime flag as enabled by default Make feature_flags.granular_metrics runtime flag as enabled by default Make feature_flags.granular_metrics runtime flag as enabled by default Please make the runtime config enabled by default on master and 2.20 as part of change. PLAT-11045
* ::Make feature_flags.granular_metrics runtime flag scope to GLOBAL Make feature_flags.granular_metrics runtime flag scope to GLOBAL Make feature_flags.granular_metrics runtime flag as enabled by default Please make the runtime config enabled by default on master and 2.20 as part of change. PLAT-11045
* Allows for the editing of provider details without resetting the enableNodeAgent field to false, preserving original settings. PLAT-11059
* Modifies the yb_backup.py script to address a bug causing restore failure when there are no tablespaces in the target universe, thus ensuring successful restores. PLAT-11094
* Prevents page from going blank when selecting master nodes on the nodes tab in a dedicated node universe. PLAT-11131
* Task UUID now remains unchanged for backup/restore operations during Platform restarts, assisting in managing these processes. PLAT-11152
* Safeguards node resizing operations by updating disk `last modified` time only for affected nodes in a cluster, preventing erroneous resize errors in AWS. PLAT-11345
* Adjusts `yb_platform_backup.py` script for better performance on Kubernetes installations, enhancing backup and restore functions by targeting the correct version metadata files. PLAT-11354
* Allows node agent start-up in air-gapped AWS instances by utilizing chcon instead of semanage and optimizes firewall exception implementation. PLAT-11473
* Allows customization of `terminationGracePeriodSeconds` in YugaByte's helm chart. PLAT-11531
* Updates s3cmd tool to latest version 2.3.0 for better compatibility with AlmaLinux 8+ and other new Linux distros. PLAT-11559
* Allows adding regions to the universe without modifying the placement, reducing restrictions and avoiding failures during the process. PLAT-11783
* Enables editing the Replication Factor (RF) for Read Replica (RR) clusters in the universe. Avoids toast error at `no changes applied by the edit universe`. Resolves issue of increasing node size in RR clusters failing. PLAT-11810
* Allows the modification of the Replication Factor (RF) on the Read Replica (RR) User Interface (UI). Ensures proper feedback of changes and eliminates errors when applying adjustments. PLAT-11810
* Ensures Tserver pods retain YBC container operation during AZ migration by maintaining the YBC Helm value as true, thus preventing YBC from disabling during master rolling updates. PLAT-11919
* Enables use of Azure disks larger than 4095 GB where host caching must be set to None, improving performance by preferring ReadOnly in all other scenarios. PLAT-11962
* Lowers the default application logging level to DEBUG from TRACE for better production usage, enhancing trace logging efficiency. Also introduces clean-ups on string concatenation. PLAT-12020
* Allows display of instance type on Edit Universe even when OS patching is disabled by removing the architecture type parameter. PLAT-12035
* Resolves the issue of the k8s operator still using legacy gflags that was causing construction errors. PLAT-12041
* Fixes installation error by installing Locales only on alma-based clusters, not on centos clusters where it causes failure. PLAT-12233
* Rectifies the startup failure in the development environment due to migration issues with v315. PLAT-12379
* Allows sending platform diagnostics securely over HTTPS to prevent potential data leaks and maintain backwards compatibility with older versions. PLAT-3450
* Introduces a confirm alert threshold step with a linkage to the alert configuration page for modifications and a reference line for the lowest replication lag alert threshold on the graph. Also separates metric filters into individual components to hide unnecessary split types from the user. PLAT-10138
* Restores an important check to prevent redundant disk modifications in the ResizeNode task, avoiding AWS's VolumeModificationRateExceeded error and facilitating smooth functioning. PLAT-10169
* Enhances the UI with support for failover, switchover and repairing halted DR configurations, while also adding DR and Universe DR state labels. PLAT-10170
* Enables fetching only universe-specific tasks for display on the universe task page, preventing the lack of task history for particular universes if they're not involved in the most recent 2000 customer tasks. PLAT-10194
* Expands OIDC authentication support to Kubernetes-based universes and resolves GFlags upgrade failure in these universes. PLAT-10277
* Introduces an enhanced metrics view to the DR config panel, featuring customizable granularity and new xCluster replication metric graphs. Furthermore, adds grouping and aggregation support to xCluster metrics, updates metric refetch logic for `live` graphs, and removes the configure RPO step from DR config creation. Additionally, it ensures fixed time interval data won't auto-refetch and introduces the ability to view top k nodes/ namespaces/ tables. PLAT-10283
* Allows volume size reduction during Full move in YBA with the use of `allow_volume_decrease` configuration for seamless instance type transitions from I3.2xLarge to I3.xLarge in AWS. PLAT-10325
* Ensures crash prevention on the `Create Alert` page by hiding the `default destination` option if no default destination is previously set by the user. PLAT-10340
* Simplifies the editing of universe by changing the order of master operations to improve shell master existence, changing config for each master and updating master addresses for all tservers and masters after every config change. PLAT-10400
* Ensures database state matches YBA expectations before initializing key operations, thereby preventing unexpected masters or tservers from interfering with the process. PLAT-10402
* Enables retries for ResizeNode+Gflags tasks by checking for any gflags changes, preventing `Nothing changed!` response if only the second phase fails. PLAT-10409
* Halts the construction of PEX with Python versions <3.8, unifies all Yugabyte Advanced (YBA) requirements to Python >=3.8 for secure updates of grandsio and cryptography, and adds a mandatory pre-check for Python version >=3.8 in YBA-Installer. PLAT-10415
* Simplifies the reboot process during provision by using the Ansible shell module to execute commands directly, boosting the reconnection speed and improving universe creation consistency. PLAT-10422
* Enables the creation of a universe using disabled YBDB releases, which are now available in the `Create Universe` software version dropdown, potentially smoothing out universe creation workflow. PLAT-10481
* Reduces network bandwidth usage by disabling `help` showing in YB's Prometheus data scrapes by passing `show_help=false` to metrics endpoint. PLAT-10489
* Increases the default retention period of the PITR configuration for transaction xCluster to 3 days, enabling late disaster response failovers. PLAT-10509
* Hides the DR Config APIs to prevent exposure in upcoming YBA versions as they are not yet finalized. PLAT-10510
* Introduces a pre-check for removeNodeFromUniverse to avoid removal failures, ensures `waitForDataMove` always executes to prevent data loss, and performs better cluster checks in removal processes. Additionally, includes a new runtime config `yb.always_wait_for_data_move` for more behavioral control. PLAT-10522
* Eliminates the `yb.always_wait_for_data_move` from RUNTIME-FLAGS.md, ceasing instance alive checks on node stop and removal. PLAT-10522
* Upgrades Google-java-format library version to ensure Java formatting aligns properly with Java 17 constructs. PLAT-10537
* Displays the database name as part of the Disaster Recovery (DR) components states during the xCluster setup bootstrapping process. PLAT-10539
* Allows editing of universe configuration, adding multiple validations to ensure changes are correctly applied and preventing side-changes like gflag updates. PLAT-10547
* Restores missing UI padding in the backup section by adding a `.row` definition to the base of the backup. PLAT-10548
* Introduces Prometheus basic auth configuration to YBA-installer and enables a successful migration from replicated to yba-installer. PLAT-10556
* Allows a short timeout for the node-agent connection check to speed up the handling of unreachable connections. PLAT-10558
* Addresses an issue where incorrect master key rotation occurs during the first backup/restore from an Encryption At Rest (EAR) universe to a non-EAR universe, ensuring a proper master key rotation operation and correct enabling of EAR. PLAT-10560
* Enhances SUSE Linux support by modifying the systemd unit directory for all OS in the SUSE family to address Universe creation failures due to differing parsing by ansible. PLAT-10561
* Sorts table details and tables for GET xclusterConfig and DrConfig endpoints in reverse severity order, prioritizing bad statuses to enhance database health visibility. PLAT-10580
* Corrects an issue in the GetLiveTserversInPrimaryCluster method by considering `ToBeRemoved` state as `Live`, thus preventing the `invalid parallel backups` error during backup processes. PLAT-10599
* Prints stack trace for troubleshooting when Prometheus-metrics endpoint failure occurs, enhancing debugging capabilities. PLAT-10605
* Rectifies proxy settings format in the `yb-file` when proxy is enabled, ensuring accurate pick-up at customer end. PLAT-10620
* Ensures seamless pausing and resuming of Azure (encryption enabled) universe by fixing parsing of VM state, preventing `Could not find last PowerState for VM` error. PLAT-10630
* Rectifies prechecks for NFS-based backups in Kubernetes that resolves a "Directory not writable" error by converting directory write test commands into a tuple format compatible with both `kubectl` and SSH. PLAT-10632
* Corrects parsing of comma-separated security group inputs and open ports validation in AWS provider Configuration Validation, enhancing Successful Provider Creation. PLAT-10637,PLAT-10638
* Resolves scenarios post-YBA upgrade where Instance type needed to be displayed if migration script was not run, by correcting primary cluster configuration for k8 universe. PLAT-10639
* Adds retry functionality to Cloud Provider Create task to address potential network intermittent issues, enhancing provider creation and bootstrap API operation. PLAT-10642
* Expands the retryability factors for SoftwareUpgrade and VMImageUpgrade tasks, enhances the universe lock with two phases for running validations and makes CertsRotate task retryable. PLAT-10701
* Enables retry for failed upgrade tasks, particularly for GFlag upgrade or TlsToggle tasks, maximizing task success rate. This also includes inclusions of validation runs between the two-phase universe lock, improving task processing reliability. The CertsRotate task has also been made retryable for added task resilience. PLAT-10701
* Refactors universe lock into two distinct phases: `lock only` and `freeze`, enabling run validations between these phases. The update doesn't necessitate any API alterations except for a task type addition. PLAT-10705
* Allows tasks to run between lock and freeze operations, handling any task failures smoothly without hindering upcoming tasks. PLAT-10705
* Enhances the primary cluster filter functioning by utilizing `isTserver` and `isMaster` fields, ensuring effective navigation in the nodes/pods section. PLAT-10717
* Introduces API examples for setting up high availability configurations on primary and standby servers, including adding certificates, creating HA configurations using the same authentication key, and promoting initial standby to active with the latest backup. PLAT-10729
* Displays a specific number of under-replicated tablet IDs during the `CheckUnderReplicatedTablets` subtask for easier troubleshooting. PLAT-10736
* Updates the ybainstaller to use Postgres 14.9, offering latest features and improvements from this version. PLAT-10753
* Fixes an error in Yugabyte Platform's `Replicated to YBA Installer Migration`, caused by hardcoded restore directory paths, enabling seamless system upgrades without backup failures. PLAT-10806
* Optimizes node-agent certificate updates by using serializable transactions with retry, reducing the risk of future changes and potential interference. PLAT-10809
* Introduces a check to prevent unnecessary processing of disk/DB files when `ywFileDataSynced` is completed and `disableSyncDBStateToFS` is true, saving startup time. PLAT-10820
* Refines universe creation process with read replica nodes for on-premises universes by correcting a condition limiting proper node clean-up, enhancing the stability and reliability of universe creation. PLAT-10823
* Changes the `always_backup_tablespaces` runtime flag to hidden and defaults to false. PLAT-10867
* Changes the "useTablespace" option in the user interface to be unchecked by default with the "always_backup_tablespaces" runtime value now defaulting to false and hidden. PLAT-10868
* Adjusts the smallest range for detailed metrics, by increasing the minimum metric query step to 3 scrape periods, while also removing the limitation on the minimum period. This change allows smooth scrolling regardless of metrics UI, and ensures data point accessibility at any time, eliminating error responses. PLAT-10877
* Enables swifter node addition by refactoring the AddNodeToUniverse scheme into a new model with advanced pre-check capabilities. PLAT-10878
* Refactors StopNodeInUniverse task to accommodate task freezing changes, ensuring smoother operation when a node stop is necessary. PLAT-10879
* Refactors the StartNodeInUniverse task to accommodate new task freezing changes and include a pre-check for the start node. PLAT-10881
* Refactors the DeleteNodeFromUniverse task to integrate new task freezing changes and shifts the delete node pre-check. PLAT-10882
* Refactors the `ReleaseInstanceFromUniverse` task, incorporating new task freezing changes and relocating pre-check for release node. PLAT-10883
* Enables earlier pre-check for reboot/hard reboot tasks to align with new task freezing modifications. PLAT-10884
* Rectifies issues on CentOS 7 by invoking the ansible-playbook script first when the shebang line's length causes truncation. PLAT-10897
* Positions `Retry Task` button next to the Universe name and navigates to the Task tab upon retrying a failed task. PLAT-10905
* Sets the `updateSucceeded` bit to false by default prior to universe creation, preventing incorrect display of a validation success indication in the UI. PLAT-10924
* Integrates sync validation for all tasks in ITask, ensuring all common validations - such as short-running and param checks - occur before task submission. PLAT-10926
* Lowers the default timeout for the on-prem preflight check command from 3 hours to 5 minutes to prevent indefinite hang-ups. PLAT-10929
* Adjusts the `load_balancer_initial_delay_secs` gflag to increase the default timeout to 8 minutes, ensuring greater accuracy in the `waitForDataMove` function after master leader failover and preventing potential data loss. PLAT-10931
* Updates YBC version to 2.0.0.0-b16, fixing a GCP backup issue. PLAT-10932
* Establishes a foreign key constraint between customer and provider, eliminating dangling references, and facilitating cleanup of associated entities. PLAT-10967,PLAT-10969
* Discourages attempts to replicate a subset of tables from a YSQL database with a reinforced restriction within the edit table modal, enhancing user awareness and preventing unsupported bootstrapping scenarios. PLAT-10982
* Prevents creation of extra xCluster/Disaster Recovery (DR) configurations for universes already engaged in transactional xCluster configurations, with tooltips explaining the action, enhancing user awareness and preventing configuration conflicts. PLAT-10984
* Marks the stability of xCluster APIs with appropriate annotations, making it easier to determine their dependability. PLAT-10991
* :[dr]Set up PITR configs for added DBs without bootstrapping Previously,YBA did not set up PITR configs while adding new DBs to an existing xCluster config if no tables in that DB required bootstrapping.This diff addresses that issue.[dr]Set up PITR configs for added DBs without bootstrapping PLAT-11018
* Ensures proper cleanup of running YBC processes and deletes YBC systemd units on your on-prem universe nodes during AnsibleDestroyServer operation, enhancing stability and efficiency. PLAT-11056
* Enables fetching DB metadata files at runtime and import if they're missing, primarily benefiting HA instances where local files aren't copied, ensuring successful gflag updates. PLAT-11082
* Mitigates gflags updates failure on promoted HA standby by fetching metadata files on demand during operations, instead of with each DB version parse. PLAT-11082
* Simplifies the user interface by replacing `formik` with `react-hook-form` in the create DR config modal, providing a link to the storage config page for users without any storage setups, and delivering minor design updates. PLAT-11103
* Generates user-friendly, easily identifiable names for the DR config, replacing previous random alphanumeric strings, which enhances user interaction and name recognition. PLAT-11104
* Disables the disaster recovery support in the backend by default, requiring runtime config API use and a specific curl request for activation. PLAT-11106
* Disables disaster recovery support in the backend by default, enabling it requires using runtime config API and making a specific curl request. PLAT-11106
* Reworks process of calculating cgroup size, moving it from NodeManager to UniverseTaskBase, to ensure correct application of cgroup settings and accurately reflect changes post resize operations with perAZ overrides. PLAT-11115
* Enables backup of `provision_instance.py` script and node agent certificates, enhancing migration from Yugabundle to YBA-installer, and resolving issues with full movement failures in high availability/replication scenarios. PLAT-11124,PLAT-11123
* Prevents data loss during migration from Replicated install with a custom root directory by correctly setting the base directory. PLAT-11173
* Enhances the response of get safetime by including an estimation of data loss, making it more informative. PLAT-11180
* Fixes an issue where resetting the restore object associated with the xCluster object during restart led to replication failure. PLAT-11184
* Allows for obtaining the core count directly from the universe, fixing the broken CPU usage metric on Kubernetes universes while minimizing the need for resource overrides. PLAT-11185
* Adds retryability to CertsRotate and systemd upgrade tasks, enhancing task completion success rate. PLAT-11186
* Displays the list of deployed regions for each Disaster Recovery (DR) participant's primary cluster on the DR participant card in the UI. PLAT-11192
* Updates the Disaster Recovery (DR) APIs to utilize the newly specified APIs, enhancing functionality. PLAT-11208
* Reverts to previous method of reading from conf to avoid failure of Gflag upgrade in dual NIC scenarios. PLAT-11209
* Enables cgroup tuning exclusively through the resize node API. PLAT-11215
* Removes quotes around `prom_snapshot`, fixing a regression causing backup restore failures on CentOS 7. PLAT-11216
* Displays estimated data loss in the YBA UI by calling GET safetime endpoint, enhancing data repair visibility. Helps identify safe time lags. PLAT-11217
* Limits log retrieval to one day for the ::log-bundle command to reduce waiting time, with an option to increase the number of days if needed. PLAT-11220
* Logs the highest follower lag for a specific server and associated tablet id, aiding in debugging when threshold checks pass. PLAT-11236
* Makes sure all related files on disk and table entries in the DB are fully cleared when a universe, provider, or customer is deleted, improving data cleanliness. This action includes enhanced deletion of universe, provider, and customer-related files, and updates foreign key references in provider schema to cascade on deletion. PLAT-10819,PLAT-11252
* Resolve a resource leak in YBClient by improving the removal process of TabletClient from AsyncYBClient. This change ensures the client map is always cleaned up properly. PLAT-11257
* Enables a single thread to write a runtime key to a scope at a time, reducing race conditions and preventing duplicate key errors for better API performance. PLAT-11259
* Allows easier configuration of throttle parameters in Kubernetes universes by using a different method to fetch CPU cores when using custom resources. PLAT-11263
* Adds a feature to disable version checking in yba-ctl createBackup/restoreBackup, offering users an option to bypass potential glitches. PLAT-11275
* Allows accounting for availability zone level overrides while calculating the provisioned IOPS for each node. PLAT-11289
* Displays Smart Resize, Resize Node, and Full Move options for RR Cluster in the user interface, mirroring availability for the Primary Cluster. PLAT-11310
* Allows default values for K8 custom resources to load correctly on the universe creation page. PLAT-11343
* Ensures remove table subtask in xCluster configuration retains restore object, boosting consistency across later subtasks. PLAT-11377
* Ensures smooth running of sbt swaggerGen by resolving its failure issues. PLAT-11378
* Updates in the YBA UI allow it to work with the new Disaster Recovery (DR) API changes. Now, it hits the DR API, while using existing xCluster components for various operations, when initiated from the DR page. With this change, the `edit DR modal` is removed for clarity. Future changes are planned to allow users to modify their replication lag and bootstrap storage config uuid settings. PLAT-11379
* Hides the "useTablespaces" option for 2.14 universes not enabled with YBC. PLAT-11409
* Avoids null pointer exception when adding a Read Replica in On-Prem universe with a GFlag in the primary cluster. PLAT-11417
* Adds region and cluster type labels to yba-exported node metrics, enabling better filter capabilities for yba clients. PLAT-11446
* Allows faster universe creation/edit by streamlining node-agent authentication for ansible tasks. This enhancement omits unnecessary cryptographic executions after the first JWT validation by using session-based authentication, thus saving 2-3 minutes per single node universe creation/edit. PLAT-11449
* Enables successful Ansible workflow execution by correctly using released scripts rather than the previously attempted non-released `ansible_runner.sh`, preventing failures for YBM. PLAT-11450
* Solves migration issues from version 2.17.1-b78 to stable versions when editing primary universe or adding Read Replica(RR), by setting storageType for onprem and k8s clusters to null. PLAT-11452
* Enables setting gflags when adding Read Replica to a Kubernetes (k8s) cluster, resolving a UI regression issue. PLAT-11457
* Eliminates the UI error that pops up while typing in the universe name during universe creation. PLAT-11462
* Stops empty string deletion for `kubeConfig` on K8s provider edit, addressing a bug causing universe creation failures on autofill local K8s providers after editing. PLAT-11464
* Shifts `validateRestoreOverwrites` call up to parent restore task to prevent xCluster bootstrapping failure, only activating on the first try but not on retries. PLAT-11468
* Allows non-root users to perform backups on k8s YBA by adjusting the permissions for the /opt/yugabyte directory, fixing the backup failure issue. PLAT-11481
* Addresses the issue of K8s YBA backup failure due to permission problems on the /opt/yugabyte/yugaware directory in the K8s container. PLAT-11481
* Corrects Kubernetes restoration issue by removing reliance on retries flag, ensuring outdated versions don't cause errors. Also, prevents failure from unopenable, pre-existing node-agent files by skipping them during tar-untar. PLAT-11481
* Changes display of restore status from `Backup Failed` to `Restore Failed` in the restore history tab for clarity. PLAT-11489
* Allows for self-scraping of Prometheus metrics in Yugaware on Kubernetes, aiding in identifying factors causing spikes in Prometheus memory. PLAT-11498
* Regenerates server certificates when the hostname in the configuration file changes, ensuring High Availability (HA) operations run smoothly. PLAT-11525
* Allows replacement of replicas in a DR config even after failover, without the requirement of the underlying xCluster config to be healthy. PLAT-11528
* Cleans up the unused `hostPath` from the Yugabyte helm chart, eliminating any confusion without impacting the database's operation or capacity usage. PLAT-11597
* Allows forceful termination of ongoing universe tasks if force deletion is permitted, ensuring smoother universe deletion. PLAT-11605
* Allows Universe actions to continue even if the Software Upgrade fails, eliminating unnecessary disabling and improving overall user experience. PLAT-11610
* Guards against instability by displaying error messages on toast when a PAUSE task fails, and ensuring delete function is only activated when `force delete` is checked. PLAT-11637
* Resolves the issue of child Python processes not terminating correctly when a task is cancelled, ensuring proper signal processing. PLAT-11640
* Disables volume resize feature for master pod during edit workflow, graying out the option in the user interface until backend support is ensured. Backporting needed for versions 2.20 and 2.18. PLAT-11644
* Enables direct manipulation of instance types from on-premises providers with add, list, describe, and remove commands. Also augments task retry, redirecting failed node creation attempts in Azure. PLAT-11654,PLAT-11646
* Updates both `-classic` and `-core` Java packages in your home library to version 1.2.11 for more advanced capability. PLAT-11662
* Ensures only selected keys are cached and prevents inadvertent fetching from the runtime configuration cache. PLAT-11670
* Shifts to Play 3.0.x, leveraging Pekko to mitigate vulnerabilities in the latest Akka library. PLAT-11680
* Corrects the Prometheus scrape configuration in YBA installer to properly set scheme for all HTTPS ports, not just 443, aiding accurate metrics collection. PLAT-11681
* Details the steps to create one load balancer for all tablet servers in a multi-Availability Zone single namespace deployment. PLAT-11684
* Allows `ReadOnlyClusterDelete` action to still run if the universe is broken. PLAT-11702
* Resolves an issue with universe creation failing on RHEL8 due to an error in installing Linux packages following a change from HTTPS to HTTP mirror links. PLAT-11723
* Adds `mainTableUUID` field to index tables list for improved cross cluster replication control and allows table details retrieval using either table uuid or table id. PLAT-11771
* Restricts switchover unless all tables in a database are part of the xCluster config, simultaneously addressing incorrect status updates on xCluster config restart. PLAT-11778
* Eliminates silent task failure when multiple actions like pausing or deleting a universe, node operations, or GFlag upgrade are in progress. PLAT-11781
* Allows high availability (HA) during replicated migration while avoiding issues with Prometheus targets and switching to Federated. Blocks migration when HTTP/HA are both enabled. PLAT-11785
* Ensures the "Delete Storage Config" modal doesn't reappear after a storage configuration with the same name is created post deletion. PLAT-11787
* Allows setting maximum parallel threads for `isBootstrapRequired` RPC call using the `is_bootstrap_required_rpc_pool.max_threads` runtime config. PLAT-11841
* Allows storage config to be stored in the DR Config, rendering bootstrap parameters optional for API endpoints. Prevents deletion of a storage config if used by the DR config. PLAT-11844
* Allows editing of the number of cores/volume size of master/tserver on the K8 universe without failure messages. PLAT-11868
* Ensures xcluster compatibility with colocation changes by retaining old behaviour if db version lacks colocatedInfo changes. PLAT-11886
* Allows correct editing of the RR cluster configuration, ensuring that all nodes remain in the node details set during any increase or decrease in node count, while maintaining appropriate data consistency across different locations. PLAT-11921
* Ensures smarter creation of Amazon Linux 2 PEX venvs to prevent failure due to long shebang lines. Adds a fallback for executing ansible-playbook directly in case no shebang is found, along with cleaning up repeated virtual environment creations. PLAT-11938
* Allows correct restoration of Prometheus data during replicated migration by locating snapshots in the proper directory. PLAT-11964
* Hides internal server commands in node-agent, permits unregistration even with corrupted data, fetches only manually provisioned on-prem providers, allows provision_instance.py to use non-Yugabyte users, and enables custom node-exporter port usage in precheck. PLAT-11976
* Enables proper migration of string settings in Replicated to yba-installer, improving functionality and user experience. PLAT-11985
* Updates backend API for DR operations, modifies UI mappings and wrappers, and adds `RbacValidator` component to remaining DR actions. PLAT-11987
* Unhides server command for node agent and enhances help message clarity. PLAT-12001
* Updates configure nic script to fix universe creation failures in Almalinux 9 graviton clusters. PLAT-12025
* Resolves a bug in the K8s operator's custom resource where not specifying the object in the spec led to a Null Pointer Exception (NPE). PLAT-12028
* Refreshes the layout and text across the Disaster Recovery (DR) workflows, offering clarified instructions and alert messages, updated text in modals and dialogs, a hyperlink in DR backup config steps, and some user experience upgrades. It also redirects alert configuration page link to open in a new tab for better navigation. PLAT-12039
* Allows for smooth transition from self-signed to CA-signed certificates, regenerating files as needed during reconfiguration without causing harm, even when there's no hostname change. PLAT-12045
* Adjusts the reset feature for the database version value to only happen during creation phase, preventing inaccurate version display in the Edit Universe page. PLAT-12050
* Updates `isYsqlAuthEnabled` function to process specific GFlags instead of using deprecated `tserverGflags`. Ensures accurate determination of Ysql auth status. PLAT-12066
* Includes "crash_yba_on_operator_failure" configuration in Helm chart for runtime adjustments. PLAT-12069
* Reduces potential data loss margin by 1000 times through adjustments to the Prometheus query for more accurate reporting. Change from long to double data types enables decimal capture. PLAT-12152
* Allows login from both `api/v1/login` and `api/login` endpoints, enabling continuous itest/API access and customerUUID details retrieval after HA failover. PLAT-12154
* Simplifies the on-prem node/universe removal process by ignoring opentelemetry collector deletion if not installed, preventing failure of on-prem provider removal when otel-collector installation is turned off. PLAT-12155
* Allows API users to see the `gceApplicationCredentials` property by converting it from JsonNode to String, ensuring the property lists in swagger. Ensures backward compatibility for old API users. Recommends iTest/UI to use a stringified json format. PLAT-12156
* Introduces a new API endpoint for editing storage configuration or parallelism in DrConfig. Also marks universes used for DR as used in the associated storage configurations. PLAT-12203
* Eliminates the occurrence of blank pages in the Perf Advisor UI, covering a rare edge case, and enhances the UI response to various situations. PLAT-12214
* Displays `-` instead of current date for indefinite backup expiry, enhancing backup details readability. PLAT-12241
* Skips the `CheckNodeSafeToDelete` subtask for delete read replica clusters ensuring quicker deletion process. PLAT-12242
* Ensures successful GCP provider creation for v1 APIs by adding a safe check for the presence of `details` construct. PLAT-12293
* Enables YSQL audit logging gflags separately from YCQL, ensuring independent audit logging configurations. PLAT-12378
* Introduces pre-checks to verify DB/OS compatibility based on glibc version during node creation/editing or software upgrade starting from YBA 2.20. PLAT-12457
* Adds YBOpsRecoverableError in missing areas of python methods for easier VM reboots on SSH connection fails and handles pending cleanups. PLAT-5653
* Allows smoother backup creation and restoration through generalized version checking, reducing reliance on hardcoded paths. This change improves handling of YBA-ctl version in the yba-installer version flow, minimizing error due to missing version_metadata.json file. PLAT-6164
* Sets a default password for the PostgreSQL superuser when installed via YBA-installer, requests a password for non-local connections. PLAT-6724
* For the `Edit Universe` task, node details are now saved and user intent is kept unchanged until the end of the task, allowing better task progress tracking. PLAT-6752
* Introduces a DB migration for K8s universes, transitioning from instance types to K8s custom resources API optimizing resource specifications. PLAT-7020
* Publishes OpenShift certified helm charts and plans to deprecate the OpenShift operator flow, replacing it with the certified helm charts process. PLAT-7408
* Allows retry operation for editing Kubernetes universe, ensuring cleanup of volumes and preventing the reuse of PVs and PVCs, increasing operational resilience. PLAT-8420
* Offers ability to retry EditKubernetesUniverse task. Only creates disk resize tasks if size differs from current volume on the pod. PLAT-8422
* Allows for retrying the `Upgrade Gflags` task on Kubernetes, resolving issues caused by helm non-idempotency. PLAT-8427
* Guards against starting EditUniverse tasks that can't handle certain changes, like increasing volume while adding a node, creating an incorrect universe state. It also ensures `nodePrefix` remains unaltered. PLAT-8586
* Introduces a runtime configuration `wait_for_server_ready.timeout` that replaces the static 10-minute wait to cater to users with a massive number of tablets requiring extended local bootstrap time. PLAT-8632
* Blocks region/zone modifications if linked to nodes in on-premise providers, ensuring safe deletion by including not-in-use instances in checks. PLAT-9108
* Blocks region/zone modifications if linked to nodes in on-premise providers, ensuring safe deletion by including not-in-use instances in checks. PLAT-9108
* Blocks editing of regions/zones if related on-prem nodes exist, to prevent deletion of unused but associated zones/regions. PLAT-9108
* Enables waiting for clock sync before restarting tserver or master process following an out-of-band reboot. Can be disabled by setting `yb.wait_for_clock_sync.inline_enabled` to false. Effectively manages clock skew. PLAT-9452
* Adds a pre-check to ensure a node's safety before its release or deletion, by verifying it has no remaining tablets and is not part of the master quorum. PLAT-11231,PLAT-9504
* Allows listing of all replication slots in a universe with the addition of a new API for CDC replication slot. PLAT-9552
* Installs Otel Collector during VM universe creation, configures audit logging via gflags, and sets up basic log export through otel collector configuration file. PLAT-9857
* Enables managing audit logging and exporting settings for specific universes and installing or upgrading OpenTelemetry collector on existing database nodes. PLAT-9858
* Simplifies log management by ensuring audit logs and data from YSQL and YCQL logs are properly exported and parsed. Enhances Otel Collector configuration to handle log line prefixes and updates. PLAT-9860
* Allows fetching the Glibc version from the new version_metadata file instead of the old metadata files. PLAT-13118
* Refines error messaging during LDAP configuration by providing more specific feedback when an incorrect port is specified. PLAT-10181
* Introduces a new YBButtonGroup Component and the corresponding storybook, akin to the one used for the ReplicationFactorField.tsx. PLAT-10507
* Resolves the issue of backup failure due to NullPointerException when there are decommissioned but not yet removed nodes by adding blank/empty check for the private_ip field. PLAT-10554
* Enables successful project import to Idea with the latest master, ensuring uninterrupted workflow. PLAT-10603
* Avoids Node pages crashes by enabling optional chaining operator for undefined `accessKey` in `NodeConnectModal.js` and displays `<private key>` in the access command if the actual private key is unfindable. PLAT-10613
* Resolves the issue of YBButton displaying a white background on hover in the UI. PLAT-10645
* Adjusts the advanced restore form to maintain its `submitting` state until the API request has processed fully, preventing multiple submissions and ensuring users understand when their request is being processed. PLAT-10646
* Eliminates the issue of retaining "Outlier Tables" graph when switching between different universe metrics, ensuring a reset to the "Overall" section for each universe visited. PLAT-10658
* Corrects the Disk Volume Usage Percent Graph in the outlier nodes mode to ensure accurate node-wise usage percentage distribution for partitions beyond the root partition. Also enhances the NODE_DISK_USAGE alert to support alerting on non-default mount points, ensuring proper disk monitoring in on-prem Universes with customized mount paths. PLAT-10676
* Displays restored tables list in the restore history page, including details like time taken for restore, restored keyspaces/databases, and backup location. PLAT-10700
* Allows developers to track cloud resources effectively by automatically filling in custom development tags during the universe creation process. Note that this doesn't apply to K8 and OnPrem as they lack a user tag list. PLAT-10727
* Adjusts the xCluster UI to use `database` over `keyspace`, reflecting a terminology preference as users primarily use YSQL. Fixes a grammatical error in the source universe text. PLAT-10745
* Allows updating of cgroup size during the resize node flow to ensure its dependency on instance type/volume size. PLAT-10752
* Expands Memtable metrics display by adding new metric names to normal_level_params.json, ensuring proper data visualization and improving compatibility with DB changes backported to 2.18. PLAT-10873
* Ensures proper permissions for .bash_profile files, eliminating errors when the `yugabyte` user reads/executes the file on OS's where these files are not automatically created. PLAT-10930
* Sort Instance type dropdown list by number of cores for public cloud providers. PLAT-11020
* Add ability to configure aggregate query aggregator and keep consistent query granularity Context When SplitMode is not NONE. PLAT-11026
* Corrects alert duration input label to accurately represent values in minutes instead of milliseconds. PLAT-11306
* Reduces error messages by calling API only when universe is not paused or in a transitional state. PLAT-11385
* Incorporates cluster data into InstanceExistCheck parameters for improved handling of CreateUniverse failure scenarios. PLAT-11520
* Divides call home data into customer, providers, universes, and users metadata ensuring sensitivity and honoring multi-tenancy. Separates universe and provider details into individual JSON formats. PLAT-11857
* Includes customer task table in YBA metadata for support bundle, enhancing information available for debugging. PLAT-11858
* Simplifies YBM runtime by moving package install steps to the AMI building time, including installing bits and configuring the cgroup, tagged with `yb-prebuilt-ami`. This specifically includes installing cgconfig services on CentOS, potentially affecting server_base_linux.yml. PLAT-11870
* Turns off SSH key expiry notification until the corresponding key rotation feature is properly tested and released. PLAT-11956
* Ensures sufficient space in YBA before transferring core files, enhancing the efficiency of core file collection. PLAT-12000
* Allows deletion of a node agent for individual nodes when the skipprovisioning is set to true for its on-prem Provider. PLAT-12104
* Prevents crashes on older providers when operating system patching is turned on by using optional chaining to access metadata of ImageBundle. PLAT-12229
* Enables a new views for releases with abilities to add, edit, disable, or delete them on a dedicated page. Includes unique features like searching versions by number, displaying only `active` releases, and viewing the latest releases on refresh. Allows importing new releases by URL or file upload. PLAT-12061,PLAT-12060,PLAT-12059,PLAT-12062,PLAT-12250
* Incorporates YBA metadata, including the YBA call home JSON, into the support bundle to aid data addition to the adoption database, particularly for air-gapped installations. PLAT-7706
* Standardizes Universe Creation UI elements for consistency in button styles, padding, and component types. Improves navigation and readability on smaller screens. PLAT-7817
* Allows correct use of custom SSH users other than `centos` during the instance creation for GCP via API or UI eliminating provider invalidation and hang issues. PLAT-9007
* Reduces unnecessary gflags upgrades in YBM by ensuring userIntent properties are updated, preventing changes to all nodes during upgrades. PLAT-9468
* Allows the removal of a previously added Kube config file or pull secret file when editing a Kubernetes provider config on YBA, enhancing user flexibility. Also changes the wording on the edit form to indicate that an empty replacement equates to file removal. PLAT-10348
* Allows building the YBA CLI binary using `make`, adding commands like `yba auth` for API Key connection, `yba provider list` to list current customer providers, and supporting CRUD operations for Providers and Universes. PLAT-10500,PLAT-10499,PLAT-10498
* Enables periodic garbage collections to free up unused memory and updates the Java version used for Github lint checks, ensuring smooth system performance. PLAT-10574
* Refines CPU usage alert calculation for new universe deployments, eliminating false alerts and enhancing accuracy. PLAT-10614
* Eliminates duplicate region codes from universe list items, ensuring regions shared by both the primary and read replica clusters aren't counted or shown twice. PLAT-10666
* Resolves issues with V298 migration in the master, ensuring accurate conversion of the providerType field and enhancing safety. PLAT-10708
* Enhances the documentation for the `bring your own encryption in transit` workflow, providing more detailed instructions for the verification process and explaining when a client certificate is needed. PLAT-10799
* Fixes UI crashes with API's error response by introducing optional chaining for variables and a generic error message. PLAT-10835
* Updates the YBC version to 2.0.0.0-b15 on master, incorporating GKE SA related commits. PLAT-10866
* Restores YBC version back before it was updated to 2.0.0.0-b15 on Master. PLAT-10866
* Moved YBC shutdown while polling upgrade task result rather than waiting for retries to exhaust. PLAT-11050
* Introduces compile time options to YBA build, facilitating OSS operator packaging by adding support in Java code, blocking all rest APIs access, disabling YugabyteD for non-community operators, and allowing for the integration of each universe with Yugabyted. PLAT-11084
* Expands options for building the yba package in community operator mode, enabling document generation for CRD properties, integration of each universe with Yugabyted for OSS K8s Operator, creation of a docker image fork and more. PLAT-11084
* Clears go dependencies, effectively removing unused `sprig` for a cleaner and more streamlined codebase. PLAT-11105
* Changes `replicated-migrate` to be hidden by YBA_MODE=ea; modifies help text to state that `replicated-migrate` is now in Early Access (EA). The YBA_MODE flag changes from `dev` to `ea`. PLAT-11274
* Renames function to "abortTask" from "abortCurrentTask" for task abortion, removing potential JS exceptions. PLAT-11404
* Updates YBC version to 2.0.0.0-b21, keeping it current and up to date. PLAT-11963
* Adds volume node affinity troubleshooting to the YBA troubleshooting guide. PLAT-11979
* Blocks universe edit for asymmetric clusters and moves the geo-partitioning feature to a provider level runtime config for enhanced user control. PLAT-12003
* Ensures successful mounting of ephemeral disks on AlmaLinux 9, particularly on AWS c5d instances, by specifying the device_path. Fixes potential AMI setting issues and optimizes Ansible scripts. PLAT-12026
* Eliminates unnecessary ConsoleLoggingErrorHandler from AwsQueryImage method as it fails due to the unavailability of the VM search pattern. PLAT-12040
* Introduces a script to detect and terminate YB DB processes automatically. PLAT-12107
* Corrects the way deprecated and preview methods display in the API documentation, ensuring method names are visible and deprecation notices are clear. PLAT-12153,PLAT-11061
* Eliminates the problem of YBC GFlags Universe task getting stuck at 54% due to unnecessary python warnings. PLAT-12158
* Eases the handling of different architectures in GitHub image tag publishing automation by applying a count check for hyphens inside the tag. The current parsing issues in find_docker_tag.py are resolved, allowing for accurate extraction of build tags. PLAT-12219
* Allows control over enabling YugabyteD UI for OSS k8s charts and community operator by using overrides. PLAT-12294
* Optimizes the system to not display a node agent status in Universe Health Check Page for a failing K8 universe. Modifies Check Node Agent button to show only for VM-based universes and when specific properties are enabled. PLAT-12298,PLAT-11297
* Corrects the handling of "zone 0" in AKS deployments, ensuring successful creation of multi-AZ clusters without deployment errors. PLAT-12307
* Corrects an issue where backup restore fails due to test autoflags, now ensuring successful restores irrespective of backup autoflags. Doesn't affect tserver flags. PLAT-12374
* Allows installation and upgrade with yba-ctl without changing the current directory. Enhances debugging by improving logging and error messaging when loading state fails. PLAT-9734,PLAT-8364

#### Other

* Upgrades node_exporter from vulnerable version 1.6.1 to safer and updated 1.7.0 for better security measures. PLAT-11234
* Upgrades various Java dependencies such as okio, http3, Amazon SDKs, akka-actor, play, docker, and setuptools to address high and medium vulnerabilities. PLAT-11227,PLAT-11619
* Upgrades Paramiko version to enhance security and address previous vulnerabilities, following recommendations from the security team. PLAT-12337
* Upgrades python cryptography package to 41.0.7 and python pycryptodome package to 3.20.0 to address potential vulnerabilities, enhancing the system's security. PLAT-12338

</details>
