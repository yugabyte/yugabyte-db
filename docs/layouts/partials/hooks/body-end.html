<script src="/js/site.js"></script>
<!-- Add target/rel on external links -->
<script type="module">
import detectExternalLink from 'https://cdn.jsdelivr.net/npm/detect-external-link@2/+esm';
if (typeof detectExternalLink === 'function') {
  const selectLinks = document.querySelectorAll('.td-content a');
  selectLinks.forEach(element => {
    const linkHref = element.getAttribute('href');
    if (linkHref !== null) {
      const isExternal = detectExternalLink(linkHref, {
        'hosts': [
          'https://docs.yugabyte.com/'
        ]
      });
      if (isExternal) {
        if (!element.target) {
          element.target = '_blank';
          if (!element.rel) {
            element.rel = 'noopener';
          }
        }
      }
    }
  });
}
</script>

{{ $layoutType := .Type }}
{{- with .Site.Params.algolia_docsearch -}}
  <script src="/js/search.js"></script>
{{- end -}}

{{- with .Site.Params.kapa_ai -}}
<svg><style>#kapa-widget-container .mantine-Button-root{z-index: 9999 !important;}img.mantine-Image-image {margin: 0 !important;}.mantine-Modal-overlay{z-index: 9999;}.mantine-Modal-inner{z-index: 9999;}</style></svg>
<script defer src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="7669d105-58f8-41b7-b3f1-4799ac938657" data-project-name="Yugabyte" data-project-color="#FF6542" data-project-logo="/icons/yugabyte-icon-32x32.jpg" data-modal-disclaimer="This is a custom LLM for Yugabyte with access to developer docs (docs.yugabyte.com), and all GitHub issues from the past year (github.com/yugabyte/yugabyte-db/issues). Please note that answers are generated by AI and may not be fully accurate." 
  data-modal-example-questions="How do I create an index?, Follower Reads vs Read Replicas?, What are transaction isolation levels?, What does Voyager do?"></script>
{{- end -}}
