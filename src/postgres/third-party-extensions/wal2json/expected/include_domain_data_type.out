\set VERBOSITY terse
-- predictability
SET synchronous_commit = on;
SET extra_float_digits = 0;
CREATE DOMAIN "wal2json_DOMAIN_1" AS bigint;
CREATE DOMAIN wal2json_domain_2 AS numeric(5,3);
CREATE DOMAIN wal2json_domain_3 AS varchar(30);
CREATE DOMAIN "wal2json_DOMAIN_4" AS bit varying(20);
CREATE TYPE "wal2json_Type" AS ENUM('a', 'b', 'c');
CREATE TABLE test_wal2json_5 (
a	smallserial,
b	smallint,
c	int,
d	"wal2json_DOMAIN_1",
e	wal2json_domain_2,
f	real not null,
g	double precision,
h	char(10),
i	wal2json_domain_3,
j	text,
k	"wal2json_DOMAIN_4",
l	timestamp,
m	date,
n	boolean not null,
o	json,
p	tsvector,
PRIMARY KEY(b, c, d)
);
CREATE TABLE test_wal2json_6 (
a	integer,
b	"wal2json_Type"[],
PRIMARY KEY(a)
);
SELECT 'init' FROM pg_create_logical_replication_slot('regression_slot', 'wal2json');
 ?column? 
----------
 init
(1 row)

INSERT INTO test_wal2json_5 (b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) VALUES(1, 2, 3, 3.54, 876.563452345, 1.23, 'teste', 'testando', 'um texto longo', B'001110010101010', '2013-11-02 17:30:52', '2013-02-04', true, '{ "a": 123 }', 'Old Old Parr'::tsvector);
UPDATE test_wal2json_5 SET f = -f WHERE b = 1;
INSERT INTO test_wal2json_6 (a, b) VALUES(1, array['b', 'c']::"wal2json_Type"[]);
SELECT data FROM pg_logical_slot_peek_changes('regression_slot', NULL, NULL, 'format-version', '1', 'pretty-print', '1', 'include-domain-data-type', '0', 'include-pk', '1');
                                                                                                                                            data                                                                                                                                            
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {                                                                                                                                                                                                                                                                                         +
         "change": [                                                                                                                                                                                                                                                                       +
                 {                                                                                                                                                                                                                                                                         +
                         "kind": "insert",                                                                                                                                                                                                                                                 +
                         "schema": "public",                                                                                                                                                                                                                                               +
                         "table": "test_wal2json_5",                                                                                                                                                                                                                                       +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                                                                  +
                         "columntypes": ["smallint", "smallint", "integer", "wal2json_DOMAIN_1", "wal2json_domain_2", "real", "double precision", "character(10)", "wal2json_domain_3", "text", "wal2json_DOMAIN_4", "timestamp without time zone", "date", "boolean", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, "3", "3.540", 876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],                                                          +
                         "pk": {                                                                                                                                                                                                                                                           +
                                 "pknames": ["b", "c", "d"],                                                                                                                                                                                                                               +
                                 "pktypes": ["smallint", "integer", "wal2json_DOMAIN_1"]                                                                                                                                                                                                   +
                         }                                                                                                                                                                                                                                                                 +
                 }                                                                                                                                                                                                                                                                         +
         ]                                                                                                                                                                                                                                                                                 +
 }
 {                                                                                                                                                                                                                                                                                         +
         "change": [                                                                                                                                                                                                                                                                       +
                 {                                                                                                                                                                                                                                                                         +
                         "kind": "update",                                                                                                                                                                                                                                                 +
                         "schema": "public",                                                                                                                                                                                                                                               +
                         "table": "test_wal2json_5",                                                                                                                                                                                                                                       +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                                                                  +
                         "columntypes": ["smallint", "smallint", "integer", "wal2json_DOMAIN_1", "wal2json_domain_2", "real", "double precision", "character(10)", "wal2json_domain_3", "text", "wal2json_DOMAIN_4", "timestamp without time zone", "date", "boolean", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, "3", "3.540", -876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],                                                         +
                         "pk": {                                                                                                                                                                                                                                                           +
                                 "pknames": ["b", "c", "d"],                                                                                                                                                                                                                               +
                                 "pktypes": ["smallint", "integer", "wal2json_DOMAIN_1"]                                                                                                                                                                                                   +
                         },                                                                                                                                                                                                                                                                +
                         "oldkeys": {                                                                                                                                                                                                                                                      +
                                 "keynames": ["b", "c", "d"],                                                                                                                                                                                                                              +
                                 "keytypes": ["smallint", "integer", "wal2json_DOMAIN_1"],                                                                                                                                                                                                 +
                                 "keyvalues": [1, 2, "3"]                                                                                                                                                                                                                                  +
                         }                                                                                                                                                                                                                                                                 +
                 }                                                                                                                                                                                                                                                                         +
         ]                                                                                                                                                                                                                                                                                 +
 }
 {                                                                                                                                                                                                                                                                                         +
         "change": [                                                                                                                                                                                                                                                                       +
                 {                                                                                                                                                                                                                                                                         +
                         "kind": "insert",                                                                                                                                                                                                                                                 +
                         "schema": "public",                                                                                                                                                                                                                                               +
                         "table": "test_wal2json_6",                                                                                                                                                                                                                                       +
                         "columnnames": ["a", "b"],                                                                                                                                                                                                                                        +
                         "columntypes": ["integer", "\"wal2json_Type\"[]"],                                                                                                                                                                                                                +
                         "columnvalues": [1, "{b,c}"],                                                                                                                                                                                                                                     +
                         "pk": {                                                                                                                                                                                                                                                           +
                                 "pknames": ["a"],                                                                                                                                                                                                                                         +
                                 "pktypes": ["integer"]                                                                                                                                                                                                                                    +
                         }                                                                                                                                                                                                                                                                 +
                 }                                                                                                                                                                                                                                                                         +
         ]                                                                                                                                                                                                                                                                                 +
 }
(3 rows)

SELECT data FROM pg_logical_slot_peek_changes('regression_slot', NULL, NULL, 'format-version', '1', 'pretty-print', '1', 'include-domain-data-type', '1', 'include-pk', '1');
                                                                                                                                     data                                                                                                                                     
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {                                                                                                                                                                                                                                                                           +
         "change": [                                                                                                                                                                                                                                                         +
                 {                                                                                                                                                                                                                                                           +
                         "kind": "insert",                                                                                                                                                                                                                                   +
                         "schema": "public",                                                                                                                                                                                                                                 +
                         "table": "test_wal2json_5",                                                                                                                                                                                                                         +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                                                    +
                         "columntypes": ["smallint", "smallint", "integer", "bigint", "numeric(5,3)", "real", "double precision", "character(10)", "character varying(30)", "text", "bit varying(20)", "timestamp without time zone", "date", "boolean", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, 3, 3.540, 876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],                                                +
                         "pk": {                                                                                                                                                                                                                                             +
                                 "pknames": ["b", "c", "d"],                                                                                                                                                                                                                 +
                                 "pktypes": ["smallint", "integer", "bigint"]                                                                                                                                                                                                +
                         }                                                                                                                                                                                                                                                   +
                 }                                                                                                                                                                                                                                                           +
         ]                                                                                                                                                                                                                                                                   +
 }
 {                                                                                                                                                                                                                                                                           +
         "change": [                                                                                                                                                                                                                                                         +
                 {                                                                                                                                                                                                                                                           +
                         "kind": "update",                                                                                                                                                                                                                                   +
                         "schema": "public",                                                                                                                                                                                                                                 +
                         "table": "test_wal2json_5",                                                                                                                                                                                                                         +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                                                    +
                         "columntypes": ["smallint", "smallint", "integer", "bigint", "numeric(5,3)", "real", "double precision", "character(10)", "character varying(30)", "text", "bit varying(20)", "timestamp without time zone", "date", "boolean", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, 3, 3.540, -876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],                                               +
                         "pk": {                                                                                                                                                                                                                                             +
                                 "pknames": ["b", "c", "d"],                                                                                                                                                                                                                 +
                                 "pktypes": ["smallint", "integer", "bigint"]                                                                                                                                                                                                +
                         },                                                                                                                                                                                                                                                  +
                         "oldkeys": {                                                                                                                                                                                                                                        +
                                 "keynames": ["b", "c", "d"],                                                                                                                                                                                                                +
                                 "keytypes": ["smallint", "integer", "bigint"],                                                                                                                                                                                              +
                                 "keyvalues": [1, 2, 3]                                                                                                                                                                                                                      +
                         }                                                                                                                                                                                                                                                   +
                 }                                                                                                                                                                                                                                                           +
         ]                                                                                                                                                                                                                                                                   +
 }
 {                                                                                                                                                                                                                                                                           +
         "change": [                                                                                                                                                                                                                                                         +
                 {                                                                                                                                                                                                                                                           +
                         "kind": "insert",                                                                                                                                                                                                                                   +
                         "schema": "public",                                                                                                                                                                                                                                 +
                         "table": "test_wal2json_6",                                                                                                                                                                                                                         +
                         "columnnames": ["a", "b"],                                                                                                                                                                                                                          +
                         "columntypes": ["integer", "\"wal2json_Type\"[]"],                                                                                                                                                                                                  +
                         "columnvalues": [1, "{b,c}"],                                                                                                                                                                                                                       +
                         "pk": {                                                                                                                                                                                                                                             +
                                 "pknames": ["a"],                                                                                                                                                                                                                           +
                                 "pktypes": ["integer"]                                                                                                                                                                                                                      +
                         }                                                                                                                                                                                                                                                   +
                 }                                                                                                                                                                                                                                                           +
         ]                                                                                                                                                                                                                                                                   +
 }
(3 rows)

SELECT data FROM pg_logical_slot_peek_changes('regression_slot', NULL, NULL, 'format-version', '1', 'pretty-print', '1', 'include-domain-data-type', '0', 'include-typmod', '0');
                                                                                                                    data                                                                                                                     
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {                                                                                                                                                                                                                                          +
         "change": [                                                                                                                                                                                                                        +
                 {                                                                                                                                                                                                                          +
                         "kind": "insert",                                                                                                                                                                                                  +
                         "schema": "public",                                                                                                                                                                                                +
                         "table": "test_wal2json_5",                                                                                                                                                                                        +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                   +
                         "columntypes": ["int2", "int2", "int4", "wal2json_DOMAIN_1", "wal2json_domain_2", "float4", "float8", "bpchar", "wal2json_domain_3", "text", "wal2json_DOMAIN_4", "timestamp", "date", "bool", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, "3", "3.540", 876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"]            +
                 }                                                                                                                                                                                                                          +
         ]                                                                                                                                                                                                                                  +
 }
 {                                                                                                                                                                                                                                          +
         "change": [                                                                                                                                                                                                                        +
                 {                                                                                                                                                                                                                          +
                         "kind": "update",                                                                                                                                                                                                  +
                         "schema": "public",                                                                                                                                                                                                +
                         "table": "test_wal2json_5",                                                                                                                                                                                        +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                                   +
                         "columntypes": ["int2", "int2", "int4", "wal2json_DOMAIN_1", "wal2json_domain_2", "float4", "float8", "bpchar", "wal2json_domain_3", "text", "wal2json_DOMAIN_4", "timestamp", "date", "bool", "json", "tsvector"],+
                         "columnvalues": [1, 1, 2, "3", "3.540", -876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],          +
                         "oldkeys": {                                                                                                                                                                                                       +
                                 "keynames": ["b", "c", "d"],                                                                                                                                                                               +
                                 "keytypes": ["int2", "int4", "wal2json_DOMAIN_1"],                                                                                                                                                         +
                                 "keyvalues": [1, 2, "3"]                                                                                                                                                                                   +
                         }                                                                                                                                                                                                                  +
                 }                                                                                                                                                                                                                          +
         ]                                                                                                                                                                                                                                  +
 }
 {                                                                                                                                                                                                                                          +
         "change": [                                                                                                                                                                                                                        +
                 {                                                                                                                                                                                                                          +
                         "kind": "insert",                                                                                                                                                                                                  +
                         "schema": "public",                                                                                                                                                                                                +
                         "table": "test_wal2json_6",                                                                                                                                                                                        +
                         "columnnames": ["a", "b"],                                                                                                                                                                                         +
                         "columntypes": ["int4", "_wal2json_Type"],                                                                                                                                                                         +
                         "columnvalues": [1, "{b,c}"]                                                                                                                                                                                       +
                 }                                                                                                                                                                                                                          +
         ]                                                                                                                                                                                                                                  +
 }
(3 rows)

SELECT data FROM pg_logical_slot_peek_changes('regression_slot', NULL, NULL, 'format-version', '1', 'pretty-print', '1', 'include-domain-data-type', '1', 'include-typmod', '0');
                                                                                                             data                                                                                                              
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {                                                                                                                                                                                                                            +
         "change": [                                                                                                                                                                                                          +
                 {                                                                                                                                                                                                            +
                         "kind": "insert",                                                                                                                                                                                    +
                         "schema": "public",                                                                                                                                                                                  +
                         "table": "test_wal2json_5",                                                                                                                                                                          +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                     +
                         "columntypes": ["int2", "int2", "int4", "int8", "numeric", "float4", "float8", "bpchar", "varchar", "text", "varbit", "timestamp", "date", "bool", "json", "tsvector"],                              +
                         "columnvalues": [1, 1, 2, 3, 3.540, 876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"]  +
                 }                                                                                                                                                                                                            +
         ]                                                                                                                                                                                                                    +
 }
 {                                                                                                                                                                                                                            +
         "change": [                                                                                                                                                                                                          +
                 {                                                                                                                                                                                                            +
                         "kind": "update",                                                                                                                                                                                    +
                         "schema": "public",                                                                                                                                                                                  +
                         "table": "test_wal2json_5",                                                                                                                                                                          +
                         "columnnames": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"],                                                                                                     +
                         "columntypes": ["int2", "int2", "int4", "int8", "numeric", "float4", "float8", "bpchar", "varchar", "text", "varbit", "timestamp", "date", "bool", "json", "tsvector"],                              +
                         "columnvalues": [1, 1, 2, 3, 3.540, -876.563, 1.23, "teste     ", "testando", "um texto longo", "001110010101010", "Sat Nov 02 17:30:52 2013", "02-04-2013", true, "{ \"a\": 123 }", "'Old' 'Parr'"],+
                         "oldkeys": {                                                                                                                                                                                         +
                                 "keynames": ["b", "c", "d"],                                                                                                                                                                 +
                                 "keytypes": ["int2", "int4", "int8"],                                                                                                                                                        +
                                 "keyvalues": [1, 2, 3]                                                                                                                                                                       +
                         }                                                                                                                                                                                                    +
                 }                                                                                                                                                                                                            +
         ]                                                                                                                                                                                                                    +
 }
 {                                                                                                                                                                                                                            +
         "change": [                                                                                                                                                                                                          +
                 {                                                                                                                                                                                                            +
                         "kind": "insert",                                                                                                                                                                                    +
                         "schema": "public",                                                                                                                                                                                  +
                         "table": "test_wal2json_6",                                                                                                                                                                          +
                         "columnnames": ["a", "b"],                                                                                                                                                                           +
                         "columntypes": ["int4", "_wal2json_Type"],                                                                                                                                                           +
                         "columnvalues": [1, "{b,c}"]                                                                                                                                                                         +
                 }                                                                                                                                                                                                            +
         ]                                                                                                                                                                                                                    +
 }
(3 rows)

SELECT data FROM pg_logical_slot_peek_changes('regression_slot', NULL, NULL, 'format-version', '2', 'include-domain-data-type', '0', 'include-pk', '1');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"action":"B"}
 {"action":"I","schema":"public","table":"test_wal2json_5","columns":[{"name":"a","type":"smallint","value":1},{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"wal2json_DOMAIN_1","value":"3"},{"name":"e","type":"wal2json_domain_2","value":"3.540"},{"name":"f","type":"real","value":876.563},{"name":"g","type":"double precision","value":1.23},{"name":"h","type":"character(10)","value":"teste     "},{"name":"i","type":"wal2json_domain_3","value":"testando"},{"name":"j","type":"text","value":"um texto longo"},{"name":"k","type":"wal2json_DOMAIN_4","value":"001110010101010"},{"name":"l","type":"timestamp without time zone","value":"Sat Nov 02 17:30:52 2013"},{"name":"m","type":"date","value":"02-04-2013"},{"name":"n","type":"boolean","value":true},{"name":"o","type":"json","value":"{ \"a\": 123 }"},{"name":"p","type":"tsvector","value":"'Old' 'Parr'"}],"pk":[{"name":"b","type":"smallint"},{"name":"c","type":"integer"},{"name":"d","type":"wal2json_DOMAIN_1"}]}
 {"action":"C"}
 {"action":"B"}
 {"action":"U","schema":"public","table":"test_wal2json_5","columns":[{"name":"a","type":"smallint","value":1},{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"wal2json_DOMAIN_1","value":"3"},{"name":"e","type":"wal2json_domain_2","value":"3.540"},{"name":"f","type":"real","value":-876.563},{"name":"g","type":"double precision","value":1.23},{"name":"h","type":"character(10)","value":"teste     "},{"name":"i","type":"wal2json_domain_3","value":"testando"},{"name":"j","type":"text","value":"um texto longo"},{"name":"k","type":"wal2json_DOMAIN_4","value":"001110010101010"},{"name":"l","type":"timestamp without time zone","value":"Sat Nov 02 17:30:52 2013"},{"name":"m","type":"date","value":"02-04-2013"},{"name":"n","type":"boolean","value":true},{"name":"o","type":"json","value":"{ \"a\": 123 }"},{"name":"p","type":"tsvector","value":"'Old' 'Parr'"}],"identity":[{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"wal2json_DOMAIN_1","value":"3"}],"pk":[{"name":"b","type":"smallint"},{"name":"c","type":"integer"},{"name":"d","type":"wal2json_DOMAIN_1"}]}
 {"action":"C"}
 {"action":"B"}
 {"action":"I","schema":"public","table":"test_wal2json_6","columns":[{"name":"a","type":"integer","value":1},{"name":"b","type":"\"wal2json_Type\"[]","value":"{b,c}"}],"pk":[{"name":"a","type":"integer"}]}
 {"action":"C"}
(9 rows)

SELECT data FROM pg_logical_slot_get_changes('regression_slot', NULL, NULL, 'format-version', '2', 'include-domain-data-type', '1', 'include-pk', '1');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"action":"B"}
 {"action":"I","schema":"public","table":"test_wal2json_5","columns":[{"name":"a","type":"smallint","value":1},{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"bigint","value":"3"},{"name":"e","type":"numeric(5,3)","value":"3.540"},{"name":"f","type":"real","value":876.563},{"name":"g","type":"double precision","value":1.23},{"name":"h","type":"character(10)","value":"teste     "},{"name":"i","type":"character varying(30)","value":"testando"},{"name":"j","type":"text","value":"um texto longo"},{"name":"k","type":"bit varying(20)","value":"001110010101010"},{"name":"l","type":"timestamp without time zone","value":"Sat Nov 02 17:30:52 2013"},{"name":"m","type":"date","value":"02-04-2013"},{"name":"n","type":"boolean","value":true},{"name":"o","type":"json","value":"{ \"a\": 123 }"},{"name":"p","type":"tsvector","value":"'Old' 'Parr'"}],"pk":[{"name":"b","type":"smallint"},{"name":"c","type":"integer"},{"name":"d","type":"bigint"}]}
 {"action":"C"}
 {"action":"B"}
 {"action":"U","schema":"public","table":"test_wal2json_5","columns":[{"name":"a","type":"smallint","value":1},{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"bigint","value":"3"},{"name":"e","type":"numeric(5,3)","value":"3.540"},{"name":"f","type":"real","value":-876.563},{"name":"g","type":"double precision","value":1.23},{"name":"h","type":"character(10)","value":"teste     "},{"name":"i","type":"character varying(30)","value":"testando"},{"name":"j","type":"text","value":"um texto longo"},{"name":"k","type":"bit varying(20)","value":"001110010101010"},{"name":"l","type":"timestamp without time zone","value":"Sat Nov 02 17:30:52 2013"},{"name":"m","type":"date","value":"02-04-2013"},{"name":"n","type":"boolean","value":true},{"name":"o","type":"json","value":"{ \"a\": 123 }"},{"name":"p","type":"tsvector","value":"'Old' 'Parr'"}],"identity":[{"name":"b","type":"smallint","value":1},{"name":"c","type":"integer","value":2},{"name":"d","type":"bigint","value":"3"}],"pk":[{"name":"b","type":"smallint"},{"name":"c","type":"integer"},{"name":"d","type":"bigint"}]}
 {"action":"C"}
 {"action":"B"}
 {"action":"I","schema":"public","table":"test_wal2json_6","columns":[{"name":"a","type":"integer","value":1},{"name":"b","type":"\"wal2json_Type\"[]","value":"{b,c}"}],"pk":[{"name":"a","type":"integer"}]}
 {"action":"C"}
(9 rows)

SELECT 'stop' FROM pg_drop_replication_slot('regression_slot');
 ?column? 
----------
 stop
(1 row)

DROP TABLE test_wal2json_5;
DROP TABLE test_wal2json_6;
DROP DOMAIN "wal2json_DOMAIN_1";
DROP DOMAIN wal2json_domain_2;
DROP DOMAIN wal2json_domain_3;
DROP DOMAIN "wal2json_DOMAIN_4";
DROP TYPE "wal2json_Type";
