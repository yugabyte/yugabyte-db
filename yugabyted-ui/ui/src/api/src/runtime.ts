// tslint:disable
/**
 * Yugabyte Cloud
 * YugabyteDB as a Service
 *
 * The version of the OpenAPI document: v1
 * Contact: support@yugabyte.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */



import Axios, { AxiosRequestConfig, AxiosInstance } from 'axios';

export const baseURL = 'http://localhost:1323/api';
export const AXIOS_INSTANCE = Axios.create({ baseURL, withCredentials: true });

export const customInstance = <T>(config: AxiosRequestConfig, customAxiosInstance?: AxiosInstance): Promise<T> => {
  const AXIOS_CUSTOM_INSTANCE = customAxiosInstance || AXIOS_INSTANCE;
  const source = Axios.CancelToken.source();
  let promise;
  try{
    promise = AXIOS_CUSTOM_INSTANCE({ ...config, cancelToken: source.token }).then(
      ({ data }) => data,
    ).catch((error) => {
      return Promise.reject(error.response.data);
    });

    // @ts-ignore
    promise.cancel = () => {
      source.cancel('Query was cancelled by React Query');
    };
  } catch (error) {
    throw Error(String(error));
  }

  return promise || Promise.reject(new Error('Something went wrong'));
};

export default customInstance;
